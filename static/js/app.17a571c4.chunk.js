(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{156:function(e,t,a){e.exports=a.p+"static/media/icon.72626586.png"},198:function(e,t,a){"use strict";var n=a(15),r=a.n(n),l=a(0),o=a.n(l),s=a(92),c=a(27),i=a(19),u=a(60),m=a(365),p=a(59),d=(a(229),a(25)),g=a.n(d),f=a(28),h=a(42),E=a(354),b=a(355),y=a(134),v=a(70),O=a(203),w=a(201),x=a(205),k=a(113),j=a(163),_=a.n(j),C=a(162),A=a.n(C),D=a(161),R=a.n(D),I=a(100),S=a.n(I),P=a(99),N=a.n(P),T=a(45),L=a.n(T),U=a(21),B=a.n(U),M=a(156),F=a.n(M),W={apiUrl:"https://api.fair-enough.semanticscience.org",restUrl:"https://api.fair-enough.semanticscience.org/rest",docsUrl:"https://api.fair-enough.semanticscience.org/docs",graphqlUrl:"https://api.fair-enough.semanticscience.org/graphql",OauthRedirectUri:"http://localhost:19006/collection/create"},H=function(e){var t=Object(f.a)();return/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(e)?o.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:{color:t.palette.primary.main,textDecoration:"none"}},e):e},J=a(158),z=a.n(J),q=Object(l.createContext)({});function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function X(){var e=Object(f.a)(),t=Object(h.a)((function(){return{menuButton:{color:e.palette.common.white},linkButton:{textTransform:"none",textDecoration:"none",color:"#fff"},linkLogo:{alignItems:"center",display:"flex"}}}))(),a=Object(l.useContext)(q),n=a.user,s=a.setUser,i=o.a.useState({currentUsername:null,accessToken:null,loggedIn:!1}),u=r()(i,2),m=u[0],p=u[1],d=o.a.useRef(m),g=(o.a.useCallback((function(e){d.current=$($({},d.current),e),p(d.current)}),[p]),o.a.useState(!1)),j=r()(g,2),C=j[0],D=j[1],I=o.a.useState(null),P=r()(I,2),T=P[0],U=P[1];return o.a.useEffect((function(){var e=localStorage.getItem("fairEnoughSettings"),t=JSON.parse(e);t&&t.access_token&&B.a.get(W.restUrl+"/current-user",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.access_token}}).then((function(e){var a=e.data;a.error||(a.access_token=t.access_token,a.given_name||a.family_name?a.username=t.given_name+" "+t.family_name:a.name&&(a.username=a.name),s(a))}))}),[]),o.a.createElement(E.a,{title:"",position:"static"},o.a.createElement(b.a,{variant:"dense"},o.a.createElement(c.b,{to:"/",className:t.linkLogo},o.a.createElement(y.a,{title:"\u2611\ufe0f FAIR Enough"},o.a.createElement("img",{src:F.a,style:{height:"2em",width:"2em",marginRight:"10px"},alt:"Logo"}))),o.a.createElement(c.b,{to:"/",className:t.linkButton},o.a.createElement(y.a,{title:"Browse existing evaluations or submit a new one"},o.a.createElement(v.a,{style:{color:"#fff"}},o.a.createElement(L.a,null),"\xa0Evaluations"))),o.a.createElement(c.b,{to:"/collections",className:t.linkButton},o.a.createElement(y.a,{title:"Browse existing Collections of assessments"},o.a.createElement(v.a,{style:{color:"#fff"}},o.a.createElement(N.a,null),"\xa0Collections"))),o.a.createElement(c.b,{to:"/assessments",className:t.linkButton},o.a.createElement(y.a,{title:"Browse existing Assessments of assessments"},o.a.createElement(v.a,{style:{color:"#fff"}},o.a.createElement(N.a,null),"\xa0Assessments"))),o.a.createElement("div",{className:"flexGrow"}),o.a.createElement(y.a,{title:"Access the OpenAPI documentation of the API used by this website"},o.a.createElement(v.a,{style:{color:"#fff"},target:"_blank",rel:"noopener noreferrer",href:W.docsUrl},o.a.createElement(R.a,{style:{marginRight:e.spacing(1)}}),"API")),o.a.createElement(y.a,{title:"Access the GraphQL API"},o.a.createElement(v.a,{style:{color:"#fff"},target:"_blank",rel:"noopener noreferrer",href:W.graphqlUrl},o.a.createElement(S.a,{style:{marginRight:e.spacing(1)}}),"GraphQL")),o.a.createElement(c.b,{to:"/about",className:t.linkButton},o.a.createElement(y.a,{title:"About"},o.a.createElement(v.a,{style:{color:"#fff"}},o.a.createElement(A.a,null)))),o.a.createElement(y.a,{title:"Source code"},o.a.createElement(v.a,{style:{color:"#fff"},target:"_blank",href:"https://github.com/MaastrichtU-IDS/fair-enough"},o.a.createElement(_.a,null))),n.username&&o.a.createElement(v.a,{variant:"contained",onClick:function(e){U(T?null:e.currentTarget),D((function(e){return!e}))},color:"secondary",size:"small"},n.username),!n.username&&o.a.createElement(z.a,{className:"MuiButton\u2011root MuiButton\u2011contained",authorizationUrl:"https://orcid.org/oauth/authorize",responseType:"token",clientId:"",clientSecret:"",redirectUri:W.OauthRedirectUri,style:{textTransform:"none",textDecoration:"none"},onSuccess:function(e){B.a.get(W.restUrl+"/current-user",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.access_token}}).then((function(t){console.log("got current user");var a=t.data;a.access_token=e.access_token,console.log(a),s(a),localStorage.setItem("fairEnoughSettings",JSON.stringify(a))}))},onFailure:function(e){return console.error(e)}},o.a.createElement(v.a,{variant:"contained",color:"primary",size:"small",component:"span"},"Login with ORCID")),o.a.createElement(O.a,{open:C,anchorEl:T},o.a.createElement(w.a,{onClickAway:function(){D(!1),U(T?null:T)}},o.a.createElement(x.a,{elevation:4,style:{padding:e.spacing(2,2),textAlign:"left"}},o.a.createElement(k.a,{style:{marginBottom:e.spacing(1)}},"Logged in with ORCID: ",H(n.id)),o.a.createElement(k.a,{style:{marginBottom:e.spacing(1)}},"Username: ",n.username),o.a.createElement(v.a,{onClick:function(){localStorage.clear(),s({})},variant:"contained",size:"small"},"Logout"))))))}var Y=a(356);function Q(){return o.a.createElement(k.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement("a",{style:{textDecoration:"none",color:"inherit"},target:"_blank",href:"https://maastrichtuniversity.nl/ids"},"Institute of Data Science at Maastricht University")," ","2020.")}function K(){var e=Object(f.a)();return o.a.createElement("footer",{style:{padding:e.spacing(2),marginTop:"auto",color:"white",backgroundColor:e.palette.primary.main}},o.a.createElement(Y.a,{maxWidth:"md",style:{textAlign:"center"}},o.a.createElement(k.a,{variant:"body2"},"This website is licensed under the\xa0",o.a.createElement("a",{target:"_blank",style:{textDecoration:"none",color:"inherit"},href:"https://github.com/MaastrichtU-IDS/fair-enough/blob/main/LICENSE"},"MIT license")),o.a.createElement(Q,null)))}var V=a(357),Z=a(135),ee=a(48),te=a(351),ae=a(281),ne=a(280),re=a(204),le=a(361),oe=a(58),se=a(164),ce=a.n(se);function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function me(){var e=Object(f.a)(),t=Object(i.e)(),a=Object(h.a)((function(){return{link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{color:e.palette.primary.light,textDecoration:"none"}},submitButton:{textTransform:"none",margin:e.spacing(2,2)},fullWidth:{width:"100%"},autocomplete:{marginRight:e.spacing(2)},formInput:{background:"white",width:"100%"},paperPadding:{padding:e.spacing(2,2),margin:e.spacing(2,2)}}}))(),n=Object(l.useContext)(q).user,s=(Object(i.f)(),o.a.useState({urlToEvaluate:"https://doi.org/10.1594/PANGAEA.908011",evaluationResults:null,adviceLogs:[],evaluationRunning:!1,evaluationsList:[],collectionsList:[],collectionSelected:"fair-metrics",metadata_service_endpoint:"https://ws.pangaea.de/oai/provider",use_datacite:!0})),u=r()(s,2),m=u[0],p=u[1],d=o.a.useRef(m),E=o.a.useCallback((function(e){d.current=ue(ue({},d.current),e),p(d.current)}),[p]),b=o.a.useState(!1),j=r()(b,2),_=j[0],C=j[1],A=o.a.useState(null),D=r()(A,2),R=D[0],I=D[1];o.a.useEffect((function(){m.collectionsList.length<1&&B.a.get(W.restUrl+"/collections",{headers:{"Content-Type":"application/json"}}).then((function(e){var t=[];e.data.map((function(e,a){e.id=e._id,t.push(e)})),E({collectionsList:t})})),m.evaluationsList.length<1&&B.a.get(W.restUrl+"/evaluations",{headers:{"Content-Type":"application/json"}}).then((function(e){var t=[];e.data.map((function(e,a){e.id=e._id,e.score_percent=e.score.percent,e.bonus_percent=e.score.bonus_percent,t.push(e)})),E({evaluationsList:t})}))}),[]);var S=function(e){return/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(e)?o.a.createElement("a",{href:e,className:a.link,target:"_blank",rel:"noopener noreferrer"},e):e},P=function(e){console.log("user from context"),console.log(n),E(g()({},e.target.id,e.target.value))},N=[{field:"@id",headerName:"ID",hide:!0},{field:"id",headerName:"Access evaluation",flex:.5,renderCell:function(e){return o.a.createElement(c.b,{to:"/evaluation/"+e.value},o.a.createElement(v.a,{variant:"contained",className:a.submitButton,startIcon:o.a.createElement(L.a,null),color:"primary"},"Evaluation"))}},{field:"resource_uri",headerName:"Resource URI",flex:1,renderCell:function(e){return o.a.createElement(o.a.Fragment,null,S(e.value))}},{field:"collection",headerName:"Collection",flex:.4,renderCell:function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.b,{to:"/collection/"+t.value,style:{textDecoration:"none",color:e.palette.primary.main}},t.value))}},{field:"score_percent",headerName:"FAIR score",flex:.3,renderCell:function(e){return o.a.createElement(o.a.Fragment,null,e.value,"%")}},{field:"bonus_percent",headerName:"Bonus score",flex:.3,renderCell:function(e){return o.a.createElement(o.a.Fragment,null,e.value,"%")}},{field:"created",headerName:"Date created",flex:.3,renderCell:function(e){return o.a.createElement(o.a.Fragment,null,e.value)}},{field:"author",headerName:"Author",flex:.6,renderCell:function(e){return o.a.createElement(o.a.Fragment,null,S(e.value))}}],T=o.a.useState([{field:"created",sort:"desc"}]),U=r()(T,2),M=U[0],F=U[1];return o.a.createElement(Y.a,{className:"mainContainer"},o.a.createElement(k.a,{variant:"h4",style:{textAlign:"center",marginBottom:e.spacing(4)}},"\u2696\ufe0f Evaluate how FAIR is a resource \ud83d\udd17"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e){E({evaluationRunning:!0,evaluationResults:null}),console.log("Starting evaluation of "+e+" with API "+W.docsUrl);var a={resource_uri:e,collection:m.collectionSelected};console.log(n);var r={"Content-Type":"application/json"};n&&n.access_token&&(r.Authorization="Bearer "+n.access_token),B.a.post(W.restUrl+"/evaluations",JSON.stringify(a),{headers:r}).then((function(e){ce()(B.a,{retries:30,retryDelay:function(e){return console.log("Waiting for evaluation to finish: "+e),3e3*e},retryCondition:function(e){return 404===e.response.status}});var a=e.data._id;B.a.get(W.restUrl+"/evaluations/"+a).then((function(e){t.push("/evaluation/"+a)}))}))}(m.urlToEvaluate)}},o.a.createElement(V.a,{display:"flex",style:{margin:e.spacing(0,6)}},o.a.createElement(Z.a,{id:"urlToEvaluate",label:"URL of the resource to evaluate",placeholder:"URL of the resource to evaluate",value:m.urlToEvaluate,className:a.fullWidth,variant:"outlined",onChange:P,InputProps:{className:a.formInput}}),o.a.createElement(Z.a,{select:!0,value:m.collectionSelected,label:"Using the collection",id:"collectionSelected",onChange:function(e){E({collectionSelected:e.target.value})},style:{margin:e.spacing(0,2),backgroundColor:"white"},variant:"outlined"},m.collectionsList.map((function(e,t){return o.a.createElement(ee.a,{value:e.id},e.title," (",e.id,")")}))),o.a.createElement(O.a,{open:_,anchorEl:R},o.a.createElement(w.a,{onClickAway:function(){C(!1),I(R?null:R)}},o.a.createElement(x.a,{elevation:4,className:a.paperPadding,style:{textAlign:"center"}},o.a.createElement(te.a,{container:!0,spacing:1},o.a.createElement(te.a,{item:!0,xs:12},o.a.createElement(y.a,{title:"By default, the FAIR Enough evaluator uses content negociation based on the DOI URL to retrieve DataCite JSON metadata. If you uncheck this option F-UJI will try to use the landing page URL instead."},o.a.createElement(ne.a,{control:o.a.createElement(re.a,{checked:m.use_datacite,onChange:function(e){E(g()({},e.target.name,e.target.checked))},name:"use_datacite",color:"primary"}),label:"Use DataCite"}))),o.a.createElement(te.a,{item:!0,xs:12},o.a.createElement(y.a,{title:"OAI-PMH (Open Archives Initiative Protocol for Metadata Harvesting) endpoint to use when searching for metadata about this resource."},o.a.createElement(Z.a,{id:"metadata_service_endpoint",label:"OAI-PMH metadata endpoint URL",placeholder:"OAI-PMH metadata endpoint URL",value:m.metadata_service_endpoint,className:a.fullWidth,variant:"outlined",onChange:P,InputProps:{className:a.formInput}})),o.a.createElement(le.a,null,"List of OAI-PMH providers: ",S("https://www.openarchives.org/Register/BrowseSites")))))))),o.a.createElement(v.a,{type:"submit",variant:"contained",style:{marginTop:e.spacing(2),marginBottom:e.spacing(4)},startIcon:o.a.createElement(L.a,null),color:"secondary"},"Start the evaluation")),m.evaluationRunning&&o.a.createElement(ae.a,{style:{margin:e.spacing(5,0)}}),m.evaluationsList.length>0&&o.a.createElement("div",{style:{height:600,width:"100%"}},console.log(m.evaluationsList),o.a.createElement(oe.a,{columns:N,rows:m.evaluationsList,components:{Toolbar:oe.b},sortModel:M,onSortModelChange:function(e){return F(e)},style:{backgroundColor:"#fff"}})))}var pe=a(352),de=a(349),ge=a(362),fe=a(363),he=a(343),Ee=a(109),be=a.n(Ee),ye=a(103),ve=a.n(ye),Oe=a(101),we=a.n(Oe),xe=(a(168),a(169)),ke=a.n(xe),je=a(80),_e=a.n(je),Ce=(a(154),a(167)),Ae=a.n(Ce);function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ie(){var e=Object(f.a)(),t=Object(h.a)((function(){return{link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{color:e.palette.primary.light,textDecoration:"none"}},submitButton:{textTransform:"none",margin:e.spacing(2,2)},fullWidth:{width:"100%"},autocomplete:{marginRight:e.spacing(2)},formInput:{background:"white",width:"100%"},paperPadding:{padding:e.spacing(2,2),margin:e.spacing(2,2)}}}))(e),a=Object(i.g)(),n=(Object(i.f)(),o.a.useState({evaluationResults:null,adviceLogs:[],logLevel:"success",resourceMetadata:null})),l=r()(n,2),s=l[0],u=l[1],m=o.a.useRef(s),p=o.a.useCallback((function(e){m.current=Re(Re({},m.current),e),u(m.current)}),[u]);o.a.useEffect((function(){B.a.get(W.restUrl+"/evaluations/"+a.id,{headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data;p({evaluationResults:t});var a=[];t.results.map((function(e,t){e.logs.map((function(e,t){(e.startsWith("\u274c")||e.startsWith("\u2139\ufe0f"))&&a.push(e)}))})),p({adviceLogs:a});var n={};Object.keys(t.data).map((function(e,a){["resource_title","resource_description","date_created","accessRights","license"].includes(e)&&(n[e]=t.data[e])})),p({resourceMetadata:n}),_e.a.highlightAll()}))}),[]);var d={f:"#b3e5fc",a:"#ffe0b2",i:"#c8e6c9",r:"#d1c4e9"},g=function(e){return/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(e)?o.a.createElement("a",{href:e,className:t.link,target:"_blank",rel:"noopener noreferrer"},e):e},E=function(e){return"all"==s.logLevel||("success"==s.logLevel?e.startsWith("\u2705")||e.startsWith("\ud83d\ude80")||e.startsWith("\u274c")||e.startsWith("\u2139\ufe0f"):"warning"==s.logLevel?e.startsWith("\u274c")||e.startsWith("\u26a0\ufe0f")||e.startsWith("\u2139\ufe0f"):"error"==s.logLevel?e.startsWith("\u274c")||e.startsWith("\u2139\ufe0f"):void 0)},b=function(e){var t=e.substring(0,1).toLowerCase(),a=s.evaluationResults.results.filter((function(e){var a=!1;return e.fair_type.startsWith(t)&&e.logs.map((function(e,t){1==E(e)&&(a=!0)})),a}));return o.a.createElement(o.a.Fragment,null,a.length>0&&o.a.createElement(de.a,{defaultExpanded:!0,style:{backgroundColor:d[t]}},o.a.createElement(ge.a,{expandIcon:o.a.createElement(be.a,null)},o.a.createElement(k.a,{variant:"h4"},{f:"\ud83d\udd0d\ufe0f",a:"\ud83d\udcec\ufe0f",i:"\u2699\ufe0f",r:"\u267b\ufe0f"}[t]," ",e)),o.a.createElement(fe.a,null,o.a.createElement(te.a,{container:!0,spacing:1,style:{textAlign:"left"}},a.map((function(e,t){return o.a.createElement(te.a,{item:!0,xs:12,md:12,key:t},o.a.createElement(de.a,{defaultExpanded:!0},o.a.createElement(ge.a,{expandIcon:o.a.createElement(be.a,null)},o.a.createElement(k.a,{variant:"h6"},e.title)),o.a.createElement(fe.a,null,o.a.createElement(te.a,{container:!0,spacing:1,style:{textAlign:"left"}},o.a.createElement(te.a,{item:!0,xs:12,md:12},o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{variant:"body1"},e.description),o.a.createElement(k.a,{variant:"body1"},"Metric: ",e.fair_type.toUpperCase(),e.metric_id),o.a.createElement(k.a,{variant:"body1"},"Assessment URL: ",g(e.file_url)),o.a.createElement(k.a,{variant:"body1"},"FAIR score: ",e.score,"/",e.max_score," | Bonus score: ",e.bonus_score,"/",e.max_bonus))),o.a.createElement(te.a,{item:!0,xs:12,md:12},o.a.createElement("pre",null,o.a.createElement("code",{className:"language-pythonlogging",style:{whiteSpace:"pre-wrap",overflowX:"auto"}},e.logs.filter((function(e){return E(e)})).join("\n"))))))))}))))))};return o.a.createElement(Y.a,{className:"mainContainer"},s.evaluationResults&&o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{variant:"h4",style:{textAlign:"center",marginBottom:e.spacing(4)}},g(s.evaluationResults.resource_uri)),s.evaluationResults.created&&o.a.createElement(k.a,{variant:"body1",style:{textAlign:"center",marginBottom:e.spacing(3)}},"Evaluated with the ",o.a.createElement(c.b,{to:"/collection/"+s.evaluationResults.collection,style:{color:e.palette.primary.main,textDecoration:"none"}},s.evaluationResults.collection)," collection on the ",s.evaluationResults.created),s.evaluationResults.author&&o.a.createElement(k.a,{variant:"body1",style:{textAlign:"center",marginBottom:e.spacing(3)}},"By ",g(s.evaluationResults.author)),s.resourceMetadata&&o.a.createElement(o.a.Fragment,null,o.a.createElement(x.a,{className:t.paperPadding,style:{textAlign:"left"}},s.resourceMetadata.resource_title&&o.a.createElement(k.a,{variant:"h5",style:{marginBottom:e.spacing(1)}},"title: ",s.resourceMetadata.resource_title),s.resourceMetadata.resource_description&&o.a.createElement(k.a,{variant:"body1",style:{marginBottom:e.spacing(1)}},"summary: ",s.resourceMetadata.resource_description),Object.keys(s.resourceMetadata).map((function(t,a){if(!["resource_title","resource_description"].includes(t))return o.a.createElement(k.a,{variant:"body1",style:{marginBottom:e.spacing(1)},key:a},t,": ",g(s.resourceMetadata[t]))})))),o.a.createElement(te.a,{container:!0,spacing:1},o.a.createElement(te.a,{item:!0,xs:3,md:3}),o.a.createElement(te.a,{item:!0,xs:3,md:3},o.a.createElement(k.a,{variant:"h5",style:{margin:e.spacing(3,0)}},"FAIR score: ",s.evaluationResults.score.total_score,"/",s.evaluationResults.score.total_score_max),o.a.createElement(V.a,{sx:{position:"relative",display:"inline-flex"}},o.a.createElement(ae.a,{variant:"determinate",value:s.evaluationResults.score.percent}),o.a.createElement(V.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement(k.a,{variant:"caption",component:"div"},s.evaluationResults.score.percent+"%",o.a.createElement("br",null))))),o.a.createElement(te.a,{item:!0,xs:3,md:3},o.a.createElement(k.a,{variant:"h5",style:{margin:e.spacing(3,0)}},"Bonus score: ",s.evaluationResults.score.total_bonus,"/",s.evaluationResults.score.total_bonus_max),o.a.createElement(V.a,{sx:{position:"relative",display:"inline-flex"}},o.a.createElement(ae.a,{variant:"determinate",value:s.evaluationResults.score.bonus_percent}),o.a.createElement(V.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement(k.a,{variant:"caption",component:"div"},s.evaluationResults.score.bonus_percent+"%",o.a.createElement("br",null)))))),o.a.createElement(V.a,{style:{alignItems:"center"}},o.a.createElement(Z.a,{select:!0,value:s.logLevel,label:"Log level",id:"logLevel",style:{backgroundColor:"white",marginRight:e.spacing(2)},onChange:function(e){p({logLevel:e.target.value})},variant:"outlined"},o.a.createElement(ee.a,{key:"success",value:"success"},"Success and failures"),o.a.createElement(ee.a,{key:"error",value:"error"},"Failures only"),o.a.createElement(ee.a,{key:"warning",value:"warning"},"Additional warnings"),o.a.createElement(ee.a,{key:"all",value:"all"},"All logs")),o.a.createElement(y.a,{title:o.a.createElement(k.a,null,"\u2705 Indicates a successful test, +1 to the FAIR score",o.a.createElement("br",null),"\ud83d\ude80 Indicates a successful non-mandatory test, +1 to the bonus score",o.a.createElement("br",null),"\u274c Indicates a failed test",o.a.createElement("br",null),"\u26a0\ufe0f Indicates a warning from a test",o.a.createElement("br",null),"\ud83d\udd0e Gives informations on the test performed",o.a.createElement("br",null))},o.a.createElement(ke.a,null))),b("Findable"),b("Accessible"),b("Interoperable"),b("Reusable"),s.evaluationResults&&o.a.createElement(o.a.Fragment,null,o.a.createElement(he.a,{variant:"middle",style:{margin:e.spacing(6,0)}}),o.a.createElement(de.a,{defaultExpanded:!0},o.a.createElement(ge.a,{expandIcon:o.a.createElement(be.a,null)},o.a.createElement(k.a,{variant:"h4"},"\ud83d\udccb\ufe0f Evaluation output")),o.a.createElement(fe.a,{style:{textAlign:"left"}},o.a.createElement(k.a,null,"All metadata found:"),o.a.createElement("pre",null,o.a.createElement("code",{className:"language-json",style:{whiteSpace:"pre-wrap",overflowX:"auto"}},JSON.stringify(s.evaluationResults.data,null,2))),o.a.createElement(k.a,null,"Main RDF metadata retrieved:"),o.a.createElement("pre",null,o.a.createElement("code",{className:"language-json",style:{whiteSpace:"pre-wrap",overflowX:"auto"}},s.evaluationResults.data.main_rdf_metadata))))),o.a.createElement(v.a,{variant:"contained",style:{textTransform:"none",margin:e.spacing(2,2)},onClick:function(e){e.preventDefault();var t=document.createElement("a");t.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(s.evaluationResults,null,4))),t.setAttribute("download","evaluation.json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},startIcon:o.a.createElement(ve.a,null)},"Download the evaluation results JSON file")))}_e.a.registerLanguage("json",Ae.a);var Se=a(104),Pe=a.n(Se);function Ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Le(){var e=Object(f.a)(),t=Object(h.a)((function(){return{link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{color:e.palette.primary.light,textDecoration:"none"}},submitButton:{textTransform:"none",margin:e.spacing(2,2)},fullWidth:{width:"100%"},autocomplete:{marginRight:e.spacing(2)},formInput:{background:"white",width:"100%"},paperPadding:{padding:e.spacing(2,2),margin:e.spacing(2,2)}}}))(e),a=Object(i.g)(),n=(Object(i.f)(),o.a.useState({collectionResults:null,adviceLogs:[],assessmentsDict:{},resourceMetadata:null})),l=r()(n,2),s=l[0],c=l[1],u=o.a.useRef(s),m=o.a.useCallback((function(e){u.current=Te(Te({},u.current),e),c(u.current)}),[c]);o.a.useEffect((function(){B.a.get(W.restUrl+"/collections/"+a.id,{headers:{"Content-Type":"application/json"}}).then((function(e){e.data;m({collectionResults:e.data})})),Object.keys(s.assessmentsDict).length<1&&B.a.get(W.restUrl+"/assessments",{headers:{"Content-Type":"application/json"}}).then((function(e){console.log("got assesments"),console.log(e.data);var t={};e.data.map((function(e,a){console.log(e),t[e.id]=e})),console.log(t),m({assessmentsDict:t})}))}),[]);return o.a.createElement(Y.a,{className:"mainContainer"},s.collectionResults&&o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{variant:"h4",style:{textAlign:"center",marginBottom:e.spacing(2)}},s.collectionResults.title," [",s.collectionResults._id,"]"),o.a.createElement(k.a,{variant:"body1",style:{textAlign:"center",marginBottom:e.spacing(2)}},s.collectionResults.description),s.collectionResults.homepage&&o.a.createElement(k.a,{variant:"body1",style:{textAlign:"center",marginBottom:e.spacing(2)}},"Homepage: ",H(s.collectionResults.homepage)),s.collectionResults.author&&o.a.createElement(k.a,{variant:"body1",style:{textAlign:"center",marginBottom:e.spacing(3)}},"Author: ",H(s.collectionResults.author)),s.collectionResults.created&&o.a.createElement(k.a,{variant:"body1",style:{textAlign:"center",marginBottom:e.spacing(3)}},"Collection created on the ",s.collectionResults.created),o.a.createElement(k.a,{variant:"h5",style:{textAlign:"center",marginBottom:e.spacing(2)}},"Contains assessments:"),o.a.createElement(te.a,{container:!0,spacing:1},s.collectionResults.assessments.map((function(a,n){return o.a.createElement(te.a,{item:!0,xs:4,display:"flex",key:n,style:{alignItems:"center"}},o.a.createElement(Pe.a,null),o.a.createElement(x.a,{elevation:4,className:t.paperPadding,style:{textAlign:"left"}},s.assessmentsDict[a]&&o.a.createElement(o.a.Fragment,null,o.a.createElement(V.a,{display:"flex",style:{alignItems:"center"}},(r=s.assessmentsDict[a].fair_type,l=s.assessmentsDict[a].metric_id,o.a.createElement(pe.a,{size:"medium",label:{f:"\ud83d\udd0d\ufe0f",a:"\ud83d\udcec\ufe0f",i:"\u2699\ufe0f",r:"\u267b\ufe0f"}[r]+" "+r.toUpperCase()+l.toString()})),"\xa0",o.a.createElement(k.a,{variant:"body1"},o.a.createElement("a",{href:s.assessmentsDict[a].file_url,target:"_blank",rel:"noopener noreferrer",style:{color:e.palette.primary.main,textDecoration:"none"}},s.assessmentsDict[a].title))),o.a.createElement(k.a,{variant:"body2"},s.assessmentsDict[a].description),o.a.createElement(k.a,{variant:"body2"},"Max score: ",s.assessmentsDict[a].max_score," | Max bonus: ",s.assessmentsDict[a].max_bonus)),!s.assessmentsDict[a]&&o.a.createElement(k.a,null,a)));var r,l}))),o.a.createElement(v.a,{variant:"contained",style:{textTransform:"none",margin:e.spacing(2,2)},onClick:function(e){e.preventDefault();var t=document.createElement("a");t.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(s.collectionResults,null,4))),t.setAttribute("download","evaluation.json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},startIcon:o.a.createElement(ve.a,null)},"Download the Collection as JSON-LD")))}var Ue=a(71),Be=a(348),Me=a(345),Fe=a(105),We=a.n(Fe),He=a(170),Je=a.n(He);function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ge(){var e=Object(f.a)(),t=(Object(i.e)(),Object(l.useContext)(q).user),a=Object(h.a)((function(){return{link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{color:e.palette.primary.light,textDecoration:"none"}},submitButton:{textTransform:"none",margin:e.spacing(2,2)},fullWidth:{width:"100%",margin:e.spacing(2,2)},autocomplete:{marginRight:e.spacing(2)},formInput:{background:"white",width:"100%"},paperPadding:{padding:e.spacing(2,2),margin:e.spacing(2,2)}}}))(),n=o.a.useState({currentUser:null,accessToken:null,loggedIn:!1,assessmentsList:[],addedAssessments:[],collectionId:"",collectionTitle:"",collectionDescription:"",collectionHomepage:"",collectionCreatedSnackbar:null,errorMessage:null}),s=r()(n,2),c=s[0],u=s[1],m=o.a.useRef(c),p=o.a.useCallback((function(e){m.current=qe(qe({},m.current),e),u(m.current)}),[u]),d=o.a.useState(!1),E=r()(d,2),b=(E[0],E[1],o.a.useState(null)),O=r()(b,2);O[0],O[1];o.a.useEffect((function(){var e=localStorage.getItem("fairEnoughSettings");JSON.parse(e);console.log(e),console.log(W.restUrl),c.assessmentsList.length<1&&B.a.get(W.restUrl+"/assessments",{headers:{"Content-Type":"application/json"}}).then((function(e){console.log("got assesments"),console.log(e.data),p({assessmentsList:e.data})}))}),[]);var w=function(e,t){return o.a.createElement(pe.a,{size:"medium",label:{f:"\ud83d\udd0d\ufe0f",a:"\ud83d\udcec\ufe0f",i:"\u2699\ufe0f",r:"\u267b\ufe0f"}[e]+" "+e.toUpperCase()+t.toString()})},j=function(e){return o.a.createElement(pe.a,{size:"medium",color:{harvest:"secondary",test:"default"}[e],label:e})},_=function(e){p(g()({},e.target.id,e.target.value))};function C(e,t){p({collectionCreatedSnackbar:null,errorMessage:null})}return o.a.createElement(Y.a,{className:"mainContainer"},o.a.createElement(k.a,{variant:"h4",style:{textAlign:"center",marginBottom:e.spacing(4)}},"Create a collection of assessments"),t.username&&o.a.createElement(k.a,{style:{textAlign:"center",marginBottom:e.spacing(4)}},"\u2705 Logged in as ",t.username),!t.username&&o.a.createElement(k.a,{style:{textAlign:"center",marginBottom:e.spacing(4)}},"\u26a0\ufe0f You need to login with your ORCID to create a new collection"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=[];c.addedAssessments.map((function(e,t){a.push(e.id)}));var n={id:c.collectionId,title:c.collectionTitle,description:c.collectionDescription,homepage:c.collectionHomepage,assessments:a};console.log(t.access_token),B.a.post(W.restUrl+"/collections",n,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.access_token}}).then((function(e){console.log("New collection "+n.id+" successfully created."),console.log(e.data),p({collectionCreatedSnackbar:"Collection "+n.id+" successfully created"})})).catch((function(e){e.response?e.response.data.detail?p({errorMessage:"Error: "+JSON.stringify(e.response.data.detail)}):p({errorMessage:JSON.stringify(e.response.data)}):e.request?(console.log("request err"),console.log(e.request)):(console.log("Error",e.message),p({errorMessage:e.message}))}))}},o.a.createElement(Z.a,{id:"collectionId",label:"Collection ID",placeholder:"Collection ID",value:c.collectionId,className:a.fullWidth,variant:"outlined",onChange:_,InputProps:{className:a.formInput},style:{margin:e.spacing(1,0)}}),o.a.createElement(Z.a,{id:"collectionTitle",label:"Collection Title",placeholder:"Collection Title",value:c.collectionTitle,className:a.fullWidth,variant:"outlined",onChange:_,InputProps:{className:a.formInput},style:{margin:e.spacing(1,0)}}),o.a.createElement(Z.a,{id:"collectionDescription",label:"Collection Description",placeholder:"Collection Description",value:c.collectionDescription,className:a.fullWidth,variant:"outlined",onChange:_,InputProps:{className:a.formInput}}),o.a.createElement(Z.a,{id:"collectionHomepage",label:"Collection Homepage",placeholder:"Collection Homepage",value:c.collectionHomepage,className:a.fullWidth,variant:"outlined",onChange:_,InputProps:{className:a.formInput},style:{margin:e.spacing(1,0)}}),o.a.createElement(k.a,{variant:"h5",style:{textAlign:"center",margin:e.spacing(3,0)}},"Assessments in your collection:"),o.a.createElement(te.a,{container:!0,spacing:1},c.addedAssessments.map((function(e,t){return o.a.createElement(te.a,{item:!0,xs:3,display:"flex",key:t,style:{alignItems:"center"}},o.a.createElement(Pe.a,null),o.a.createElement("div",{onClick:function(){return t=e.id,void p({addedAssessments:c.addedAssessments.filter((function(e){return e.id!==t}))});var t}},o.a.createElement(y.a,{title:"Click to remove this assessment from your collection"},o.a.createElement(x.a,{elevation:4,className:a.paperPadding,style:{textAlign:"left",cursor:"pointer"}},o.a.createElement(k.a,null,e.title),w(e.fair_type,e.metric_id),"\xa0",j(e.role),"\xa0"))))})),c.addedAssessments.length<1&&o.a.createElement(te.a,{item:!0,xs:12},o.a.createElement(k.a,{style:{textAlign:"center"}},"No assessments added, click on the assessments in the list below to add them to your collection."))),o.a.createElement(k.a,{variant:"h5",style:{textAlign:"center",margin:e.spacing(3,0)}},"Add assessments to your collection:"),o.a.createElement(k.a,{variant:"body1",style:{textAlign:"center",margin:e.spacing(3,0)}},"\u26a0\ufe0f The order of the assessments in your collection matters, since they will be run one after the other in this order. Some assessments harvest metadata, when others assessments will run some checks (sometime on the previously harvested metadata). It is recommended to put harvester assessments at the start of your collection."),o.a.createElement(te.a,{container:!0,spacing:1},c.assessmentsList.filter((function(e){var t=!0;return c.addedAssessments.map((function(a,n){a.id==e.id&&(t=!1)})),t})).sort((function(e,t){return"harvest"==e.role&&"harvest"!=t.role?-1:"harvest"!=e.role&&"harvest"==t.role?1:"f"==e.fair_type&&"f"!=t.fair_type?-1:"f"!=e.fair_type&&"f"==t.fair_type?1:e.fair_type+e.metric_id<t.fair_type+t.metric_id?-1:e.fair_type+e.metric_id>t.fair_type+t.metric_id?1:0})).map((function(t,n){return o.a.createElement(te.a,{item:!0,xs:6,key:n,style:{alignItems:"center"}},o.a.createElement(x.a,{elevation:4,className:a.paperPadding,style:{textAlign:"left"}},o.a.createElement(V.a,{display:"flex",style:{alignItems:"center"}},o.a.createElement(y.a,{title:"Add "+t.id+" to your collection"},o.a.createElement(Ue.a,{color:"primary",style:{marginRight:e.spacing(1)},onClick:function(){return e=t,void p({addedAssessment:c.addedAssessments.push(e)});var e}},o.a.createElement(Je.a,null))),w(t.fair_type,t.metric_id),"\xa0",j(t.role),"\xa0",o.a.createElement(k.a,{variant:"h6"},t.title)),o.a.createElement(k.a,{variant:"body2"},o.a.createElement("a",{onClick:function(e){},href:t.file_url,className:a.link,target:"_blank",rel:"noopener noreferrer"},t.id)),o.a.createElement(k.a,{variant:"body2"},t.description),o.a.createElement(k.a,{variant:"body2"},"Max score: ",t.max_score," | Max bonus: ",t.max_bonus)))}))),o.a.createElement(v.a,{type:"submit",variant:"contained",disabled:!t.username,style:{marginTop:e.spacing(2),marginBottom:e.spacing(4)},startIcon:o.a.createElement(We.a,null),color:"secondary"},"Publish the collection"),o.a.createElement(Be.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!c.collectionCreatedSnackbar,onClose:C,autoHideDuration:6e3},o.a.createElement(Me.a,{elevation:6,severity:"success"},c.collectionCreatedSnackbar)),o.a.createElement(Be.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!c.errorMessage,onClose:C,autoHideDuration:6e3},o.a.createElement(Me.a,{elevation:6,severity:"error"},c.errorMessage)),!t.username&&o.a.createElement(k.a,{style:{textAlign:"center",marginBottom:e.spacing(4)}},"\u26a0\ufe0f You need to login with your ORCID to create a new collection.")))}function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ye(){var e=Object(f.a)(),t=(Object(i.e)(),Object(h.a)((function(){return{link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{color:e.palette.primary.light,textDecoration:"none"}},submitButton:{textTransform:"none",margin:e.spacing(2,2)},fullWidth:{width:"100%"},autocomplete:{marginRight:e.spacing(2)},formInput:{background:"white",width:"100%"},paperPadding:{padding:e.spacing(2,2),margin:e.spacing(2,2)}}}))()),a=(Object(i.f)(),o.a.useState({urlToEvaluate:"https://doi.org/10.1594/PANGAEA.908011",evaluationResults:null,collectionsList:[],evaluationRunning:!1,evaluationsList:[],metadata_service_endpoint:"https://ws.pangaea.de/oai/provider",use_datacite:!0})),n=r()(a,2),l=n[0],s=n[1],u=o.a.useRef(l),m=o.a.useCallback((function(e){u.current=Xe(Xe({},u.current),e),s(u.current)}),[s]),p=o.a.useState(!1),d=r()(p,2),g=(d[0],d[1],o.a.useState(null)),E=r()(g,2);E[0],E[1];o.a.useEffect((function(){l.collectionsList.length<1&&B.a.get(W.restUrl+"/collections",{headers:{"Content-Type":"application/json"}}).then((function(e){var t=[];e.data.map((function(e,a){e.id=e._id,t.push(e)})),m({collectionsList:t})}))}),[]);var b=function(e){return/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(e)?o.a.createElement("a",{href:e,className:t.link,target:"_blank",rel:"noopener noreferrer"},e):e},y=[{field:"id",headerName:"Access collection",flex:.7,renderCell:function(e){return o.a.createElement(c.b,{to:"/collection/"+e.value},o.a.createElement(v.a,{variant:"contained",className:t.submitButton,color:"primary"},e.value))}},{field:"title",headerName:"Title",flex:1},{field:"homepage",headerName:"Homepage",flex:1,renderCell:function(e){return o.a.createElement(o.a.Fragment,null,b(e.value))}},{field:"created",headerName:"Date created",flex:.4,renderCell:function(e){return o.a.createElement(o.a.Fragment,null,e.value)}},{field:"author",headerName:"Author",flex:1,renderCell:function(e){return o.a.createElement(o.a.Fragment,null,b(e.value))}}],O=o.a.useState([{field:"created",sort:"desc"}]),w=r()(O,2),x=w[0],j=w[1];return o.a.createElement(Y.a,{className:"mainContainer"},o.a.createElement(k.a,{variant:"h4",style:{textAlign:"center",marginBottom:e.spacing(4)}},"Collections of assessments"),o.a.createElement(c.b,{to:"/collection/create"},o.a.createElement(v.a,{variant:"contained",style:{marginTop:e.spacing(2),marginBottom:e.spacing(4)},startIcon:o.a.createElement(We.a,null),color:"secondary"},"Create a new collection")),l.collectionsList.length>0&&o.a.createElement("div",{style:{height:600,width:"100%"}},console.log(l.collectionsList),o.a.createElement(oe.a,{columns:y,rows:l.collectionsList,components:{Toolbar:oe.b},sortModel:x,onSortModelChange:function(e){return j(e)},style:{backgroundColor:"#fff"}})))}var Qe=a(360),Ke=a(347),Ve=a(364),Ze=a(353),et=a(344),tt=a(173),at=a.n(tt),nt=a(172),rt=a.n(nt),lt=a(174),ot=a.n(lt),st=a(175),ct=a.n(st),it=a(171),ut=a.n(it);function mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function dt(){var e=Object(f.a)(),t=(Object(i.e)(),Object(h.a)((function(){return{link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{color:e.palette.primary.light,textDecoration:"none"}},submitButton:{textTransform:"none",margin:e.spacing(2,2)},fullWidth:{width:"100%"},autocomplete:{marginRight:e.spacing(2)},formInput:{background:"white",width:"100%"},paperPadding:{padding:e.spacing(2,2),margin:e.spacing(2,2)}}}))()),a=(Object(i.f)(),o.a.useState({assessmentsList:[]})),n=r()(a,2),l=n[0],s=n[1],c=o.a.useRef(l),u=o.a.useCallback((function(e){c.current=pt(pt({},c.current),e),s(c.current)}),[s]),m=o.a.useState(!1),p=r()(m,2),d=(p[0],p[1],o.a.useState(null)),g=r()(d,2);g[0],g[1];o.a.useEffect((function(){_e.a.highlightAll(),l.assessmentsList.length<1&&B.a.get(W.restUrl+"/assessments",{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data);var t=[];e.data.map((function(e,a){e.fair_metric=e.fair_type.toUpperCase()+e.metric_id+" ("+e.role+")",t.push(e)})),console.log(t),u({assessmentsList:t})}))}),[]);var E=[{field:"id",headerName:"Access assessment",flex:.5,renderCell:function(e){return o.a.createElement(v.a,{variant:"contained",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/MaastrichtU-IDS/fair-enough/blob/main/backend/app/assessments/"+e.value+".py",className:t.submitButton,style:{textTransform:"none"},color:"primary"},e.value,".py")}},{field:"fair_metric",headerName:"FAIR metric",flex:.25},{field:"title",headerName:"Title",flex:.9},{field:"max_score",headerName:"Score",flex:.15},{field:"max_bonus",headerName:"Bonus",flex:.15},{field:"author",headerName:"Author",flex:.5,renderCell:function(e){return o.a.createElement(o.a.Fragment,null,(a=e.value,/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(a)?o.a.createElement("a",{href:a,className:t.link,target:"_blank",rel:"noopener noreferrer"},a):a));var a}}],b=o.a.useState([{field:"fair_metric",sort:"asc"}]),y=r()(b,2),O=y[0],w=y[1];return o.a.createElement(Y.a,{className:"mainContainer",style:{textAlign:"left"}},o.a.createElement(k.a,{variant:"h4",style:{textAlign:"center",marginBottom:e.spacing(4)}},"Assessments"),o.a.createElement(k.a,{variant:"body1",style:{textAlign:"left",marginBottom:e.spacing(3),marginTop:e.spacing(2)}},"You can find all assessments as python scripts in the fair-enough GitHub repository: ",o.a.createElement("a",{href:"https://github.com/MaastrichtU-IDS/fair-enough/tree/main/backend/app/assessments",target:"_blank",rel:"noopener noreferrer"},"backend/app/assessments")),l.assessmentsList.length>0&&o.a.createElement("div",{style:{height:600,width:"100%"}},console.log(l.assessmentsList),o.a.createElement(oe.a,{columns:E,rows:l.assessmentsList,components:{Toolbar:oe.b},sortModel:O,onSortModelChange:function(e){return w(e)},style:{backgroundColor:"#fff"}})),o.a.createElement(k.a,{variant:"h4",style:{textAlign:"center",margin:e.spacing(4,0)}},"Add new assessments"),o.a.createElement(k.a,{variant:"body1",style:{textAlign:"left",marginBottom:e.spacing(1),marginTop:e.spacing(4)}},"To add new assessments you will need to fork the ",o.a.createElement("a",{href:"https://github.com/MaastrichtU-IDS/fair-enough",target:"_blank",rel:"noopener noreferrer"},"fair-enough GitHub repository"),", add new assessments in ",o.a.createElement("a",{href:"https://github.com/MaastrichtU-IDS/fair-enough/tree/main/backend/app/assessments",target:"_blank",rel:"noopener noreferrer"},"backend/app/assessments"),", and send a pull request! To create a new assessment follow those instructions:"),o.a.createElement(Qe.a,null,o.a.createElement(Ke.a,null,o.a.createElement(Ve.a,null,o.a.createElement(Ze.a,null,o.a.createElement(rt.a,null))),o.a.createElement(et.a,null,"Fork this repository, and optionally create a new folder in ",o.a.createElement("code",null,"backend/app/assessments")," if you want to group multiple assessments under a same folder")),o.a.createElement(Ke.a,null,o.a.createElement(Ve.a,null,o.a.createElement(Ze.a,null,o.a.createElement(at.a,null))),o.a.createElement(et.a,null,"Copy an existing assessment to get started, such as ",o.a.createElement("a",{href:"https://github.com/MaastrichtU-IDS/fair-enough/blob/main/backend/app/assessments/a1_access_protocol.py",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("code",null,"a1_access_protocol.py")))),o.a.createElement(Ke.a,null,o.a.createElement(Ve.a,null,o.a.createElement(Ze.a,null,o.a.createElement(ot.a,null))),o.a.createElement(et.a,null,"Change the attributes of the ",o.a.createElement("code",null,"Assessment")," class to describe it so that users can easily understand what your assessment does. Provide your ORCID URL in the ",o.a.createElement("code",null,"author")," attribute,")),o.a.createElement(Ke.a,null,o.a.createElement(Ve.a,null,o.a.createElement(Ze.a,null,o.a.createElement(S.a,null))),o.a.createElement(et.a,null,"Add the code in the ",o.a.createElement("code",null,"evaluate()")," function, 2 variables are passed to the assessment, plus you can access the assessment object itself to log what the test is trying to do, and why it success or fail. Here are the main variables you have access to in the assessment:")),o.a.createElement(Ke.a,null,o.a.createElement(Qe.a,null,o.a.createElement(Ke.a,null,o.a.createElement(Ve.a,null,o.a.createElement(Ze.a,null,o.a.createElement(L.a,null))),o.a.createElement(et.a,null,o.a.createElement("code",null,"eval"),": evaluation object that you can use to pass data between assessments (e.g. to pass the license URL, or JSON-LD metadata your assessment retrieves)")),o.a.createElement(Ke.a,null,o.a.createElement(Ve.a,null,o.a.createElement(Ze.a,null,o.a.createElement(ct.a,null))),o.a.createElement(et.a,null,o.a.createElement("code",null,"g"),": RDFLib graph of the RDF retrieved when searching for the resource metadata")),o.a.createElement(Ke.a,null,o.a.createElement(Ve.a,null,o.a.createElement(Ze.a,null,o.a.createElement(we.a,null))),o.a.createElement(et.a,null,o.a.createElement("code",null,"self"),": the assessment object itself, can be used to perform various logging actions related to the test (don't use ",o.a.createElement("code",null,"print")," otherwise it will not show up in the evaluation results returned by the API)"))))),o.a.createElement("pre",null,o.a.createElement("code",{className:"language-python",style:{whiteSpace:"pre-wrap",overflowX:"auto"}},"self.log('This print a regular event', '\u2714\ufe0f')\nself.success('This will also increase the score of the assessment by 1')\nself.bonus('This will also increase the bonus score of the assessment by 1')\nself.warning('This will print a warning while running the assessment')\nself.error('This will print a failure while running the assessment')\n# We provide also some helpers, e.g. to parse RDF (cf. models/assessments.py)\ng = self.parseRDF(rdf_data, 'text/turtle', msg='content negotiation RDF')")),o.a.createElement(k.a,{variant:"body1",style:{textAlign:"left",marginTop:e.spacing(3),marginBottom:e.spacing(1)}},"Once you created your assessment, you can test it locally before submitting a pull request.",o.a.createElement("br",null),o.a.createElement("br",null),"Start the stack with docker-compose following the instructions in the ",o.a.createElement("a",{href:"https://github.com/MaastrichtU-IDS/fair-enough#readme",target:"_blank",rel:"noopener noreferrer"},"README"),". You can directly test your assessment on a given resource URI with the ",o.a.createElement("a",{href:W.docsUrl+"#/assessments/run_assessment_rest_assessments_post",target:"_blank",rel:"noopener noreferrer"},"POST /assessments")," operation in the API, or you can also create a new collection, if you want to try it as part of a collection."))}_e.a.registerLanguage("python",ut.a);var gt=a(176),ft=a.n(gt),ht=a(177),Et=a.n(ht),bt=Object(h.a)((function(e){return{link:{textDecoration:"none",color:e.palette.primary.main,"&:hover":{color:e.palette.secondary.main,textDecoration:"none"}},paperPadding:{padding:e.spacing(2,2),margin:e.spacing(2,2)},paperTitle:{fontWeight:300,marginBottom:e.spacing(1)},mainText:{textAlign:"left",marginBottom:"20px"}}}));function yt(){var e=bt(),t=Object(f.a)(),a=o.a.useState({open:!1,dialogOpen:!1,project_license:"",language_autocomplete:[]}),n=r()(a,2);n[0],n[1];return o.a.createElement(Y.a,{className:"mainContainer"},o.a.createElement(k.a,{variant:"h4",className:e.mainText,style:{marginBottom:t.spacing(2)}},"About"),o.a.createElement(k.a,{variant:"body1",className:e.mainText},"FAIR Enough is a web service to evaluate how much online resources follow to the ",o.a.createElement("a",{href:"https://www.go-fair.org/fair-principles",className:e.link,target:"_blank",rel:"noopener noreferrer"},"FAIR principles \u267b\ufe0f")," (Findable, Accessible, Interoperable, Reusable)."),o.a.createElement(k.a,{variant:"body1",className:e.mainText},"Developed and hosted by the ",o.a.createElement("a",{href:"https://www.maastrichtuniversity.nl/research/institute-data-science",className:e.link,target:"_blank",rel:"noopener noreferrer"},"Institute of Data Science")," at Maastricht University."),o.a.createElement(k.a,{variant:"h4",className:e.mainText,style:{margin:t.spacing(2,0)}},"How it works"),o.a.createElement(k.a,{variant:"body1",className:e.mainText},"An ",o.a.createElement("b",null,"evaluation")," runs a ",o.a.createElement("b",null,"collection")," of ",o.a.createElement("b",null,"assessments")," against the resource to evaluate."),o.a.createElement(Qe.a,null,o.a.createElement(Ke.a,null,o.a.createElement(Ve.a,null,o.a.createElement(Ze.a,null,o.a.createElement(L.a,null))),o.a.createElement(et.a,null,o.a.createElement("b",null,"Evaluations")," can be created by anyone without authentication. An evaluation takes the URI of the resource to evaluate, and a collection of assessments to run against this resource.")),o.a.createElement(Ke.a,null,o.a.createElement(Ve.a,null,o.a.createElement(Ze.a,null,o.a.createElement(ft.a,null))),o.a.createElement(et.a,null,o.a.createElement("b",null,"Collections")," can be created through the API after authenticating with ORCID. A collection is a sorted list of assessments")),o.a.createElement(Ke.a,null,o.a.createElement(Ve.a,null,o.a.createElement(Ze.a,null,o.a.createElement(Et.a,null))),o.a.createElement(et.a,null,o.a.createElement("b",null,"Assessments")," are tests written in Python that can be part of a collection. Each assessment run some tests against the resource to evaluate, record the results, and pass the results to the next assessment in the collection. To create a test you will need to add a python file in the folder ",o.a.createElement("a",{href:"https://github.com/MaastrichtU-IDS/fair-enough/tree/main/backend/app/assessments",className:e.link,target:"_blank",rel:"noopener noreferrer"},"backend/app/assessments")," and send us a pull request"))))}var vt=Object(u.a)({palette:{primary:{light:"#63a4ff",main:p.a[700],dark:"#004ba0"},secondary:{light:"#4caf50",main:"#087f23",dark:"#00600f"}},typography:{fontFamily:'"Open Sans", "Roboto", "Arial"',fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,fontSize:11}});function Ot(e,t){return t}t.a=function(){var e=Object(l.useReducer)(Ot,[]),t=r()(e,2),a=t[0],n=t[1];return o.a.createElement(m.a,{theme:vt},o.a.createElement(q.Provider,{value:{user:a,setUser:n}},o.a.createElement(c.a,{basename:"/"},o.a.createElement(s.a,{style:{height:"100%",backgroundColor:"#eceff1"}},o.a.createElement(X,null),o.a.createElement(i.a,{exact:!0,path:"/evaluation/:id",component:Ie}),o.a.createElement(i.a,{exact:!0,path:"/collection/:id",component:Le}),o.a.createElement(i.a,{path:"/about",component:yt}),o.a.createElement(i.a,{path:"/collections",component:Ye}),o.a.createElement(i.a,{path:"/assessments",component:dt}),o.a.createElement(i.a,{path:"/collection/create",component:Ge}),o.a.createElement(i.a,{exact:!0,path:"/",component:me}),o.a.createElement(K,null)))))}},221:function(e,t,a){a(222),e.exports=a(270)},222:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},229:function(e,t,a){var n=a(140),r=a(230);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var l={insert:"head",singleton:!1};n(r,l);e.exports=r.locals||{}},230:function(e,t,a){(t=a(141)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Open+Sans);"]),t.push([e.i,'/* https://mui.com/guides/migration-v4/ */\n\n.flexGrow {\n  flex-grow: 1; \n}\n\n.mainContainer {\n  margin-top: 30px;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\npre {\n  border: 2px solid grey;\n  padding: 1em;\n  /* background: #22272e; */\n}\n\ncode {\n  font-family: monospace, monospace;\n  border-radius: 10px;\n  padding: 3px;\n  /* color: white; */\n  /* background-color: #757575; */\n  /* background-color: #78909c; */\n}\n\npre, code {\n  font-family: monospace, monospace;\n  border-radius: 6px;\n  /* padding: 2px; */\n  color: #adbac7;\n  background: #22272e;\n  /* padding: 0.5em; */\n  /* padding: 5px; */\n  /* color: white;\n  background-color: #757575; */\n  /* background-color: #78909c; */\n}\n\na {\n  text-decoration: none;\n}\n\n/* a:hover {\n  color: #ff7043;\n  text-decoration: none\n} */\n\n/* @import url("https://fonts.googleapis.com/icon?family=Material+Icons");\nbody {\n  margin: 0;\n  padding: 0;\n  text-align: center; } */\n',""]),e.exports=t}},[[221,1,2]]]);
//# sourceMappingURL=app.17a571c4.chunk.js.map