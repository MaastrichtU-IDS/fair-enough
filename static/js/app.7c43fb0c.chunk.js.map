{"version":3,"sources":["assets/icon.png","src/settings.tsx","src/components/NavBar.tsx","src/components/Footer.tsx","src/pages/RunEvaluations.tsx","src/pages/Evaluation.tsx","src/pages/CreateCollection.tsx","src/pages/Collections.tsx","src/pages/About.tsx","App.tsx","web-build/register-service-worker.js","webpack:////home/runner/work/fair-enough/fair-enough/frontend/src/App.css?391c","src/App.css"],"names":["module","exports","settings","apiUrl","restUrl","docsUrl","graphqlUrl","OauthRedirectUri","NavBar","theme","useTheme","classes","makeStyles","menuButton","color","palette","common","white","linkButton","textTransform","textDecoration","linkLogo","alignItems","display","useStyles","AppBar","title","position","Toolbar","variant","to","className","Tooltip","src","iconImage","style","height","width","marginRight","alt","Button","target","rel","href","spacing","authorizationUrl","responseType","clientId","clientSecret","redirectUri","onSuccess","response","console","log","localStorage","setItem","JSON","stringify","window","location","reload","onFailure","error","size","component","Copyright","Typography","align","Footer","padding","marginTop","backgroundColor","primary","main","Container","maxWidth","textAlign","Evaluation","history","useHistory","link","light","submitButton","margin","fullWidth","autocomplete","formInput","background","paperPadding","useLocation","React","useState","urlToEvaluate","evaluationResults","adviceLogs","evaluationRunning","evaluationsList","metadata_service_endpoint","use_datacite","state","setState","stateRef","useRef","updateState","useCallback","update","current","open","setOpen","anchorEl","setAnchorEl","useEffect","length","axios","get","headers","then","res","data","map","evaluation","key","push","getUrlHtml","urlString","test","handleTextFieldChange","event","id","value","columns","field","headerName","hide","flex","renderCell","params","startIcon","marginBottom","onSubmit","preventDefault","evaluateUrl","postJson","post","axiosRetry","retries","retryDelay","retryCount","retryCondition","status","evalId","doEvaluateUrl","Box","TextField","label","placeholder","onChange","InputProps","Popper","ClickAwayListener","onClickAway","Paper","elevation","Grid","container","item","xs","FormControlLabel","control","Checkbox","checked","name","FormHelperText","type","CircularProgress","rows","components","GridToolbar","evalParams","useParams","logLevel","resourceMetadata","evalResults","results","logs","startsWith","Object","keys","metadata","includes","colorsLight","f","a","i","r","filterLog","getResultsForCategory","category","charCategory","substring","toLowerCase","filteredResults","filter","filterItem","fair_type","Accordion","defaultExpanded","AccordionSummary","expandIcon","AccordionDetails","md","description","toUpperCase","metric_id","file_url","score","max_score","bonus_score","max_bonus","whiteSpace","overflowX","join","resource_title","resource_description","sx","top","left","bottom","right","justifyContent","select","MenuItem","onClick","element","document","createElement","setAttribute","encodeURIComponent","body","appendChild","click","removeChild","currentUser","accessToken","loggedIn","assessmentsList","addedAssessments","collectionId","collectionTitle","collectionDescription","collectionHomepage","localStorageConfig","getItem","configState","parse","token","access_token","given_name","family_name","assessmentsInCollec","postCollec","addedAssess","assessment","addedAssessment","cursor","disabled","collectionsList","collec","secondary","paperTitle","fontWeight","mainText","About","dialogOpen","project_license","language_autocomplete","List","ListItem","ListItemAvatar","Avatar","ListItemText","createTheme","blue","dark","typography","App","ThemeProvider","basename","View","exact","path","Collections","CreateCollection","RunEvaluations","navigator","addEventListener","serviceWorker","register","scope","info","catch","api","content","__esModule","default","options","locals","___CSS_LOADER_API_IMPORT___"],"mappings":"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","file":"static/js/app.7c43fb0c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon.72626586.png\";","import { useTheme } from '@mui/material/styles';\n\nconst settings = {\n  apiUrl: process.env.API_URL || 'http://localhost',\n  restUrl: ((process.env.API_URL) ? process.env.API_URL + '/rest' : null) || 'http://localhost/rest',\n  docsUrl: ((process.env.API_URL) ? process.env.API_URL + '/docs' : null) || 'http://localhost/docs',\n  graphqlUrl: ((process.env.API_URL) ? process.env.API_URL + '/graphql' : null) || 'http://localhost/graphql',\n  OauthRedirectUri: process.env.OAUTH_REDIRECT_FRONTEND || \"http://localhost:19006/collection/create\"\n}\n\nconst getUrlHtml = (urlString: string) => {\n  const theme = useTheme();\n  if(/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(urlString)) {\n    // Process URIs\n    return <a href={urlString}  target=\"_blank\" rel=\"noopener noreferrer\"\n        style={{color: theme.palette.primary.main,\n          textDecoration: 'none',\n          // '&:hover': {\n          //   color: theme.palette.primary.light,\n          //   textDecoration: 'none',}\n          }}>{urlString}</a>\n  } else {\n    return urlString\n  }\n}\n\n// export default settings;\nexport {\n  settings,\n  getUrlHtml\n}","import React from \"react\";\nimport { useTheme } from '@mui/material/styles';\nimport { makeStyles } from '@mui/styles';\nimport { Link } from \"react-router-dom\";\nimport { AppBar, Toolbar, Button, Tooltip, IconButton, Box, ButtonBase } from '@mui/material';\nimport GitHubIcon from '@mui/icons-material/GitHub';\nimport InfoIcon from '@mui/icons-material/Info';\nimport ApiIcon from '@mui/icons-material/Http';\nimport GraphqlIcon from '@mui/icons-material/Code';\nimport LoginIcon from '@mui/icons-material/Login';\n\n// @ts-ignore\nimport iconImage from '../../assets/icon.png';\n\nimport { settings } from '../settings';\nimport { useAuth } from 'oidc-react';\nimport OAuth2Login from 'react-simple-oauth2-login';\n\n// const theme = useTheme();\n\n// const useStyles = makeStyles(() => ({\n//   menuButton: {\n//     // color: theme.palette.common.white\n//     color: '#fff'\n//   },\n//   linkButton: {\n//     textTransform: 'none',\n//     textDecoration: 'none',\n//     color: '#fff'\n//   },\n//   linkLogo: {\n//     // Seems to fit the 48px navbar height...\n//     // height: '48px',\n//     alignItems: 'center',\n//     display: 'flex',\n//   },\n// }))\n  \nexport default function NavBar() {\n  const theme = useTheme();\n  // const auth = useAuth();\n\n  const useStyles = makeStyles(() => ({\n    menuButton: {\n      color: theme.palette.common.white\n      // color: '#fff'\n    },\n    linkButton: {\n      textTransform: 'none',\n      textDecoration: 'none',\n      color: '#fff'\n    },\n    linkLogo: {\n      // Seems to fit the 48px navbar height...\n      // height: '48px',\n      alignItems: 'center',\n      display: 'flex',\n    },\n  }))\n  const classes = useStyles();\n\n\n  const onSuccess = (response: any) => {\n    console.log(response)\n    localStorage.setItem(\"fairEnoughSettings\", JSON.stringify(response));\n    window.location.reload();\n  };\n  const onFailure = (response: any) => console.error(response);\n\n\n  // const localStorageConfig = localStorage.getItem(\"fairEnoughSettings\");\n  //     if (localStorageConfig) {\n  //       let configState: any = JSON.parse(localStorageConfig);\n  //       access_token = configState.access_token;\n  //     }\n\n\n  return (\n    <AppBar title=\"\" position='static'>\n      <Toolbar variant='dense'>\n        <Link to=\"/\" className={classes.linkLogo}>\n          <Tooltip title='‚òëÔ∏è FAIR Enough'>\n            <img src={iconImage} style={{height: '2em', width: '2em', marginRight: '10px'}} alt=\"Logo\" />\n          </Tooltip>\n        </Link>\n        <Link to=\"/collections\" className={classes.linkButton}>\n          <Tooltip title='Browse existing Collections of assessments'>\n            <Button style={{color: '#fff'}}>\n              {/* <InfoIcon /> */}\n              Collections\n            </Button>\n          </Tooltip>\n        </Link>\n        <div className=\"flexGrow\"></div>\n\n        <Tooltip title='Access the OpenAPI documentation of the API used by this web interface'>\n          <Button style={{color: '#fff'}} target=\"_blank\" rel=\"noopener noreferrer\"\n          href={settings.docsUrl}>\n            <ApiIcon style={{ marginRight: theme.spacing(1)}} />\n            API\n          </Button>\n        </Tooltip>\n        <Tooltip title='Access the GraphQL API used by this web interface'>\n          <Button style={{color: '#fff'}} target=\"_blank\" rel=\"noopener noreferrer\"\n          href={settings.graphqlUrl}>\n            {/* + '?query=query%20%7B%0A%20%20evaluations%20%7B%0A%20%20%20%20title%0A%20%20%20%20resourceUri%0A%20%20%20%20collection%0A%20%20%20%20score%20%7B%0A%20%20%20%20%20%20totalScore%0A%20%20%20%20%20%20totalScoreMax%0A%20%20%20%20%20%20percent%0A%20%20%20%20%20%20totalBonus%0A%20%20%20%20%20%20totalBonusMax%0A%20%20%20%20%20%20bonusPercent%0A%20%20%20%20%7D%0A%20%20%20%20results%20%7B%0A%20%20%20%20%20%20title%0A%20%20%20%20%20%20fairType%0A%20%20%20%20%20%20metricId%0A%20%20%20%20%20%20score%0A%20%20%20%20%20%20maxScore%0A%20%20%20%20%20%20bonusScore%0A%20%20%20%20%20%20maxBonus%0A%20%20%20%20%20%20logs%0A%20%20%20%20%7D%0A%20%20%20%20data%0A%20%20%7D%0A%7D' */}\n            <GraphqlIcon style={{ marginRight: theme.spacing(1)}} />\n            GraphQL\n          </Button>\n        </Tooltip>\n        <Link to=\"/about\" className={classes.linkButton}>\n          <Tooltip title='About'>\n            <Button style={{color: '#fff'}}>\n              <InfoIcon />\n            </Button>\n          </Tooltip>\n        </Link>\n        <Tooltip title='Source code'>\n          <Button style={{color: '#fff'}} target=\"_blank\"\n          href=\"https://github.com/MaastrichtU-IDS/fair-enough\">\n            <GitHubIcon />\n          </Button>\n        </Tooltip>\n\n        {/* <Tooltip title='Login with ORCID'> */}\n        {/* <Button variant='contained' color='primary' size='small' component=\"span\"> */}\n        <OAuth2Login\n          className=\"MuiButton‚Äëroot MuiButton‚Äëcontained\"\n          authorizationUrl=\"https://orcid.org/oauth/authorize\"\n          responseType=\"token\"\n          clientId={process.env.ORCID_CLIENT_ID}\n          clientSecret={process.env.ORCID_CLIENT_SECRET}\n          redirectUri={settings.OauthRedirectUri}\n          // redirectUri=\"\"\n          style={{textTransform: 'none', textDecoration: 'none'}}\n          onSuccess={onSuccess}\n          onFailure={onFailure}>\n          <Button variant='contained' color='primary' size='small' component=\"span\">\n            Login\n          </Button>\n\n        </OAuth2Login>    \n        {/* </Button> */}\n        {/* </Tooltip> */}\n\n        {/* <Tooltip title='Login with ORCID'>\n          <Button href=\"http://localhost/rest/login\" style={{color: '#fff'}} >\n            <LoginIcon />\n          </Button>\n        </Tooltip> */}\n        {/* <Tooltip title='Login with ORCID'>\n          <Button onClick={() => {auth.signIn()}} style={{color: '#fff'}} >\n            <LoginIcon />\n          </Button>\n        </Tooltip> */}\n\n      </Toolbar>\n    </AppBar>\n  );\n}","import React from 'react';\nimport { useTheme } from '@mui/material/styles';\n// import { makeStyles } from '@mui/styles';\nimport { Container, Typography } from '@mui/material';\n\nfunction Copyright() {\n  // const classes = useStyles();\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright ¬© '}\n      <a style={{textDecoration: 'none', color: 'inherit'}} target=\"_blank\"\n      href=\"https://maastrichtuniversity.nl/ids\">\n        Institute of Data Science at Maastricht University\n      </a>{' '}\n      {'2020.'}\n    </Typography>\n  );\n}\n\nexport default function Footer() {\n  // const classes = useStyles();\n  const theme = useTheme()\n\n  // const useStyles = makeStyles((theme) => ({\n  //   darkLink: {\n  //     textDecoration: 'none',\n  //     color: 'inherit',\n  //     '&:hover': {\n  //       color: theme.palette.primary.light,\n  //       textDecoration: 'none',\n  //     },\n  //   },\n  //   whiteLink: {\n  //     textDecoration: 'none',\n  //     color: 'inherit',\n  //     '&:hover': {\n  //       color: theme.palette.primary.dark,\n  //       textDecoration: 'none',\n  //     },\n  //   },\n  //   footer: {\n  //     padding: theme.spacing(2),\n  //     marginTop: 'auto',\n  //     color: 'white',\n  //     backgroundColor: theme.palette.primary.main,\n  //   },\n  // }));\n\n  // Set state in functional style:\n  // const [state, setState] = React.useState({search: '', name: 'Vincent'});\n  // console.log(state.search);\n  // // Set search without chaging name\n  // setState({...state, search: 'yo'})\n  // const onNameChange = React.useCallback((filterName) => {\n  //   console.log('callback', state.name);\n  // },\n  // [state.name]);\n  // // Tells callback to reload when change to state.name\n\n  // React.useEffect(() => {\n  //   console.log('componentDID mount');\n  //   return () => {\n  //     console.log('willMount');\n  //   }\n  // }, []) \n  // Empty dep list: will only run when componentDidMount\n\n  return (\n      <footer style={{padding: theme.spacing(2),\n          marginTop: 'auto',\n          color: 'white',\n          backgroundColor: theme.palette.primary.main }}>\n        <Container maxWidth=\"md\" style={{textAlign: 'center'}}>\n          <Typography variant=\"body2\" >\n            This website is licensed under the&nbsp;\n            <a target=\"_blank\" style={{textDecoration: 'none', color: 'inherit'}}\n            href=\"https://github.com/MaastrichtU-IDS/fair-enough/blob/main/LICENSE\">\n              MIT license\n            </a>\n            {/* <img src={require('../assets/images/mit_license.png')} /> */}\n          </Typography>\n          <Copyright />\n        </Container>\n      </footer>\n  );\n}","import React from 'react';\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { useTheme } from '@mui/material/styles';\nimport { makeStyles, withStyles } from '@mui/styles';\nimport { Typography, Container, Button, Paper, Box, FormControl, Chip, Tooltip, TextField, CircularProgress, Grid, Select, MenuItem, InputLabel } from \"@mui/material\";\nimport { Popper, ClickAwayListener, Checkbox, FormControlLabel, FormHelperText } from \"@mui/material\";\n// import EvaluationIcon from '@mui/icons-material/Send';\n// import EvaluationIcon from '@mui/icons-material/PlaylistAddCheck';\nimport EvaluationIcon from '@mui/icons-material/NetworkCheck';\n\nimport { DataGrid, GridToolbar, GridColumns, GridRenderCellParams } from '@mui/x-data-grid';\n// import Pagination from '@mui/material/Pagination';\n\nimport axios from 'axios';\nimport axiosRetry from 'axios-retry';\n// import { Doughnut } from 'react-chartjs-2';\n// import ChartDataLabels from 'chartjs-plugin-datalabels';\nimport { settings } from '../settings'\n// import { useAuth } from 'oidc-react';\n\nexport default function Evaluation() {\n  const theme = useTheme();\n  const history = useHistory();\n  // const auth = useAuth();\n\n  const useStyles = makeStyles(() => ({\n    link: {\n      color: theme.palette.primary.main,\n      textDecoration: 'none',\n      // color: 'inherit',\n      '&:hover': {\n        color: theme.palette.primary.light,\n        textDecoration: 'none',\n      },\n    },\n    submitButton: {\n      textTransform: 'none',\n      margin: theme.spacing(2, 2),\n    },\n    fullWidth: {\n      width: '100%',\n    },\n    autocomplete: {\n      marginRight: theme.spacing(2)\n    },\n    formInput: {\n      background: 'white',\n      width: '100%'\n    },\n    paperPadding: {\n      padding: theme.spacing(2, 2),\n      margin: theme.spacing(2, 2),\n    },\n  }))\n  const classes = useStyles();\n\n  // useLocation hook to get URL params\n  let location = useLocation();  \n  let evaluationResults: any = null;\n  let resourceMetadata: any = null;\n  let fairDoughnutConfig: any = null;\n  const [state, setState] = React.useState({\n    urlToEvaluate: \"https://doi.org/10.1594/PANGAEA.908011\",\n    // urlToEvaluate: \"https://doi.org/10.1038/sdata.2016.18\",\n    evaluationResults: evaluationResults,\n    adviceLogs: [],\n    evaluationRunning: false,\n    evaluationsList: [],\n    metadata_service_endpoint: 'https://ws.pangaea.de/oai/provider',\n    use_datacite: true,\n  });\n  const stateRef = React.useRef(state);\n  // Avoid conflict when async calls\n  const updateState = React.useCallback((update) => {\n    stateRef.current = {...stateRef.current, ...update};\n    setState(stateRef.current);\n  }, [setState]);\n\n  // Settings for Popper\n  const [open, setOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl]: any = React.useState(null);\n  const handleClick = (event: any) => {\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n    // setAnchorEl(anchorEl ? null : document.body);\n    setOpen((prev) => !prev);\n  };\n  const handleClickAway = () => {\n    setOpen(false);\n    setAnchorEl(anchorEl ? null : anchorEl);\n  };\n  const id = open ? 'simple-popper' : undefined;\n  \n\n  // Run on page init\n  React.useEffect(() => {\n    // Get the edit URL param if provided\n    // const params = new URLSearchParams(location.search + location.hash);\n    // let urlToEvaluate = params.get('evaluate');\n    // if (urlToEvaluate) {\n    //   updateState({ urlToEvaluate: urlToEvaluate })\n    //   doEvaluateUrl(urlToEvaluate)\n    // }\n\n    // Get the list of evaluations from API\n    if (state.evaluationsList.length < 1) {\n      axios.get(settings.restUrl + '/evaluations', {\n        headers: {'Content-Type': 'application/json'},\n      })\n        .then((res: any) => {\n          let evaluationsList: any = []\n          res.data.map((evaluation: any, key: number) => {\n            evaluation['id'] = evaluation['_id']\n            evaluation['score_percent'] = evaluation['score']['percent']\n            evaluation['bonus_percent'] = evaluation['score']['bonus_percent']\n            evaluationsList.push(evaluation)\n          })\n          updateState({ evaluationsList: evaluationsList })\n\n        })\n    }\n  }, [])\n\n  const colors: any = {\n    f: '#81d4fa', // blue\n    a: '#ffcc80', // orange\n    i: '#a5d6a7', // green\n    r: '#b39ddb', // purple\n    fail: '#ef5350' // red\n  }\n  const colorsLight: any = {\n    f: '#b3e5fc', // blue\n    a: '#ffe0b2', // orange\n    i: '#c8e6c9', // green\n    r: '#d1c4e9', // purple\n  }\n\n  const getUrlHtml = (urlString: string) => {\n    if(/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(urlString)) {\n      // Process URIs\n      return <a href={urlString} className={classes.link} target=\"_blank\" rel=\"noopener noreferrer\">{urlString}</a>\n    } else {\n      return urlString\n    }\n  }\n\n  const doEvaluateUrl  = (evaluateUrl: string) => {\n    updateState({\n      evaluationRunning: true,\n      evaluationResults: null\n    })\n    console.log('Starting evaluation of ' + evaluateUrl + ' with API ' + settings.docsUrl)\n    const postJson = JSON.stringify({\n      \"resource_uri\": evaluateUrl,\n      // \"title\": \"FAIR metrics dataset evaluation\",\n      \"collection\": \"fair-metrics\"\n    });\n    axios.post(settings.restUrl + '/evaluations', postJson, {\n      headers: {'Content-Type': 'application/json'}\n    })\n      .then(res => {\n        axiosRetry(axios, {\n          retries: 30, // number of retries\n          retryDelay: (retryCount) => {\n            console.log(`Waiting for evaluation to finish: ${retryCount}`);\n            return retryCount * 3000; // time interval between retries\n          },\n          retryCondition: (error: any) => {\n            // if retry condition is not specified, by default idempotent requests are retried\n            return error.response.status === 404;\n          },\n        });\n\n        const evalId = res.data['_id']\n        // Retry every 3 seconds until the evaluation is available\n        axios.get(settings.restUrl + '/evaluations/' + evalId)\n          .then((res: any) => {\n            // Redirect to the page of the created evaluation\n            history.push(\"/evaluation/\" + evalId);\n          })\n      })\n  }\n\n  const handleTextFieldChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    // Set the TextField input to the state variable corresponding to the field id  \n    updateState({[event.target.id]: event.target.value})\n  }\n  const handleSubmit  = (event: React.FormEvent) => {\n    event.preventDefault();\n    doEvaluateUrl(state.urlToEvaluate)\n  }\n\n  // const BorderLinearProgress = withStyles({\n  //   root: {\n  //     height: 20,\n  //     width: \"100%\",\n  //     // backgroundColor: hex ? lighten(internalColor, 0.5) : undefined,\n  //     borderRadius: \"10px\"\n  //   },\n  //   bar: {\n  //     borderRadius: 20,\n  //     // backgroundColor: hex ? internalColor : undefined\n  //   }\n  // })(LinearProgress);\n\n\n  const columns: GridColumns = [\n    { field: '@id', headerName: 'ID', hide: true },\n    { \n      field: 'id', headerName: 'Access evaluation', flex: 0.5,\n      renderCell: (params: GridRenderCellParams) => (\n        // <Button href={'/#/evaluation/' + params.value as string}\n        <Button href={'/evaluation/' + params.value as string}\n            variant=\"contained\" \n            className={classes.submitButton} \n            startIcon={<EvaluationIcon />}\n            color=\"primary\">\n          Evaluation\n        </Button>)\n    },\n    // { field: 'title', headerName: 'Title', flex: 1 },\n    {\n      field: 'resource_uri', headerName: 'Resource URI', flex: 1,\n      renderCell: (params: GridRenderCellParams) => (\n        <>\n          {getUrlHtml(params.value as string)}\n        </>)\n    },\n    {\n      field: 'score_percent', headerName: 'FAIR compliant', flex: 0.5,\n      renderCell: (params: GridRenderCellParams) => (\n        <>\n          {params.value as string}%\n        </>)\n    },\n    {\n      field: 'bonus_percent', headerName: 'FAIR Role Model', flex: 0.5,\n      renderCell: (params: GridRenderCellParams) => (\n        <>\n          {params.value as string}%\n        </>)\n    }\n  ]\n  \n\n  return(\n    <Container className='mainContainer'>\n      <Typography variant=\"h4\" style={{textAlign: 'center', marginBottom: theme.spacing(4)}}>\n        ‚öñÔ∏è Evaluate how FAIR is a resource üîó\n      </Typography>\n\n      {/* {auth && auth.userData &&\n        <div>\n          <strong>Logged in! üéâ</strong><br />\n          <button onClick={() => auth.signOut()}>Log out!</button>\n        </div>\n      } */}\n\n      {/* Form to provide the URL to evaludate */}\n      <form onSubmit={handleSubmit}>\n        <Box display=\"flex\" style={{margin: theme.spacing(0, 6)}}>\n          <TextField\n            id='urlToEvaluate'\n            label='URL of the resource to evaluate'\n            placeholder='URL of the resource to evaluate'\n            value={state.urlToEvaluate}\n            className={classes.fullWidth}\n            variant=\"outlined\"\n            onChange={handleTextFieldChange}\n            // size='small'\n            InputProps={{\n              className: classes.formInput\n            }}\n          />\n\n          {/* <Tooltip  title='Evaluator settings'>\n            <Button style={{margin: theme.spacing(1)}} onClick={handleClick}>\n              <SettingsIcon />\n            </Button>\n          </Tooltip> */}\n          <Popper open={open} anchorEl={anchorEl}>\n            <ClickAwayListener onClickAway={handleClickAway}>\n              <Paper elevation={4} className={classes.paperPadding} style={{textAlign: 'center'}}>\n                {/* <Typography variant=\"h6\" style={{textAlign: 'center'}}>\n                  Evaluator settings\n                </Typography> */}\n                <Grid container spacing={1}>\n                  <Grid item xs={12}>\n                    <Tooltip title='By default, the FAIR Enough evaluator uses content negociation based on the DOI URL to retrieve DataCite JSON metadata. If you uncheck this option F-UJI will try to use the landing page URL instead.'>\n                      <FormControlLabel\n                        control={\n                          <Checkbox\n                            checked={state.use_datacite}\n                            onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                              updateState({[event.target.name]: event.target.checked});\n                            }}\n                            name=\"use_datacite\"\n                            color=\"primary\"\n                          />\n                        }\n                        label=\"Use DataCite\"\n                      />\n                    </Tooltip>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Tooltip title='OAI-PMH (Open Archives Initiative Protocol for Metadata Harvesting) endpoint to use when searching for metadata about this resource.'>\n                      <TextField\n                        id='metadata_service_endpoint'\n                        label='OAI-PMH metadata endpoint URL'\n                        placeholder='OAI-PMH metadata endpoint URL'\n                        value={state.metadata_service_endpoint}\n                        className={classes.fullWidth}\n                        variant=\"outlined\"\n                        onChange={handleTextFieldChange}\n                        // size='small'\n                        InputProps={{\n                          className: classes.formInput\n                        }}\n                      />\n                    </Tooltip>\n                    <FormHelperText>List of OAI-PMH providers: {getUrlHtml('https://www.openarchives.org/Register/BrowseSites')}</FormHelperText>\n                  </Grid>\n                </Grid>\n              </Paper>\n            </ClickAwayListener>\n          </Popper>\n        </Box>\n\n        <Button type=\"submit\" \n          variant=\"contained\" \n          // className={classes.submitButton} \n          style={{marginTop: theme.spacing(2), marginBottom: theme.spacing(4)}}\n          startIcon={<EvaluationIcon />}\n          color=\"secondary\" >\n            Start the FAIR evaluation\n        </Button>\n      </form>\n\n      {state.evaluationRunning && \n        <CircularProgress style={{margin: theme.spacing(5, 0)}} />\n      }\n\n      {/* Display the Data table listing the Evaluations */}\n      {state.evaluationsList.length > 0 && \n        <div style={{ height: 600, width: '100%' }}>\n          {console.log(state.evaluationsList)}\n          <DataGrid\n            columns={columns}\n            rows={state.evaluationsList}\n            // {...state.evaluationsList}\n            components={{\n              Toolbar: GridToolbar,\n            }}\n            style={{backgroundColor: '#fff'}}\n          />\n        </div>\n      }\n    </Container>\n  )\n}\n\n","import React from 'react';\nimport { useLocation, useParams } from \"react-router-dom\";\n// import { useParams } from 'react-router';\nimport { useTheme } from '@mui/material/styles';\nimport { makeStyles, withStyles } from '@mui/styles';\n// import { makeStyles, useTheme, withStyles } from '@mui/styles';\nimport { Typography, Container, Button, Paper, Box, FormControl, Chip, Tooltip, TextField, CircularProgress, Grid, Select, MenuItem, InputLabel } from \"@mui/material\";\nimport { LinearProgress, Accordion, AccordionSummary, AccordionDetails, Popper, ClickAwayListener, Checkbox, FormControlLabel, FormHelperText } from \"@mui/material\";\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport DownloadJsonIcon from '@mui/icons-material/GetApp';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport PassIcon from '@mui/icons-material/CheckCircle';\nimport FailIcon from '@mui/icons-material/Error';\n// import EvaluationIcon from '@mui/icons-material/Send';\n// import EvaluationIcon from '@mui/icons-material/PlaylistAddCheck';\nimport EvaluationIcon from '@mui/icons-material/NetworkCheck';\n\nimport { DataGrid, GridToolbar, GridColumns, GridRenderCellParams } from '@mui/x-data-grid';\n// import Pagination from '@mui/material/Pagination';\n\nimport axios from 'axios';\n// import { Doughnut } from 'react-chartjs-2';\n// import ChartDataLabels from 'chartjs-plugin-datalabels';\n\nimport {settings} from '../settings'\n\n\nexport default function Evaluation() {\n  const theme = useTheme();\n\n  const useStyles = makeStyles(() => ({\n    link: {\n      color: theme.palette.primary.main,\n      textDecoration: 'none',\n      // color: 'inherit',\n      '&:hover': {\n        color: theme.palette.primary.light,\n        textDecoration: 'none',\n      },\n    },\n    submitButton: {\n      textTransform: 'none',\n      margin: theme.spacing(2, 2),\n    },\n    fullWidth: {\n      width: '100%',\n    },\n    autocomplete: {\n      marginRight: theme.spacing(2)\n    },\n    formInput: {\n      background: 'white',\n      width: '100%'\n    },\n    paperPadding: {\n      padding: theme.spacing(2, 2),\n      margin: theme.spacing(2, 2),\n    },\n  }))\n\n  const classes = useStyles(theme);\n  // const { id } = useParams();\n  const evalParams: any = useParams();\n  // useLocation hook to get URL params\n  let location = useLocation();  \n  let evaluationResults: any = null;\n  let resourceMetadata: any = null;\n  const [state, setState] = React.useState({\n    evaluationResults: evaluationResults,\n    adviceLogs: [],\n    logLevel: 'all',\n    resourceMetadata: resourceMetadata,\n  });\n  const stateRef = React.useRef(state);\n  // Avoid conflict when async calls\n  const updateState = React.useCallback((update) => {\n    stateRef.current = {...stateRef.current, ...update};\n    setState(stateRef.current);\n  }, [setState]);\n\n\n  // Run on page init\n  React.useEffect(() => {\n    // get evaluations\n    axios.get(settings.restUrl + '/evaluations/' + evalParams.id, {\n      headers: {'Content-Type': 'application/json'},\n    })\n      .then((res: any) => {\n        const evalResults = res.data;\n        updateState({ evaluationResults: evalResults })\n\n        let adviceLogs: any = []\n        evalResults.results.map((evaluation: any, key: number) => {\n          evaluation.logs.map((log: any, key: number) => {\n            if (log.startsWith('‚ùå') || log.startsWith('‚ÑπÔ∏è')) {\n              adviceLogs.push(log);\n            }\n          })\n        })\n        updateState({adviceLogs: adviceLogs})\n\n        // Check for metadata found in output (core metadata, license)\n        let resourceMetadata: any = {}\n        Object.keys(evalResults.data).map((metadata: any, key: number) => {\n        // evaluationResults.data.map((item: any, key: number) => {\n          const extractMetadata = ['resource_title', 'resource_description', 'date_created', 'accessRights', 'license']\n          if (extractMetadata.includes(metadata)) {\n            resourceMetadata[metadata] = evalResults.data[metadata]\n          }\n          // if (item.output.core_metadata_found) {\n          //   resourceMetadata = {...resourceMetadata, ...item.output.core_metadata_found}\n          // }\n          // if (Array.isArray(item.output)) {\n          //   item.output.map((outputEntry: any, key: number) => {\n          //     if (outputEntry.license) {\n          //       resourceMetadata = {...resourceMetadata, ...{license: outputEntry.license}}  \n          //     }\n          //   })\n          // }\n        })\n        updateState({resourceMetadata: resourceMetadata})\n        // hljs.highlightAll();\n      })\n\n  }, [])\n\n  const colors: any = {\n    f: '#81d4fa', // blue\n    a: '#ffcc80', // orange\n    i: '#a5d6a7', // green\n    r: '#b39ddb', // purple\n    fail: '#ef5350' // red\n  }\n  const colorsLight: any = {\n    f: '#b3e5fc', // blue\n    a: '#ffe0b2', // orange\n    i: '#c8e6c9', // green\n    r: '#d1c4e9', // purple\n  }\n\n  const getUrlHtml = (urlString: string) => {\n    if(/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(urlString)) {\n      // Process URIs\n      return <a href={urlString} className={classes.link} target=\"_blank\" rel=\"noopener noreferrer\">{urlString}</a>\n    } else {\n      return urlString\n    }\n  }\n\n  // const handleTextFieldChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n  //   // Set the TextField input to the state variable corresponding to the field id  \n  //   updateState({[event.target.id]: event.target.value})\n  // }\n\n  const handleLogLevelChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    updateState({'logLevel': event.target.value})\n    // hljs.highlightAll();\n  }\n  const downloadEvaluation  = (event: React.FormEvent) => {\n    event.preventDefault();\n    var element = document.createElement('a');\n    element.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(state.evaluationResults, null, 4)));\n    element.setAttribute('download', 'evaluation.json');\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  const filterLog = (log: string) => {\n    if (state.logLevel == 'all') {\n      return true\n    } else if (state.logLevel == 'warning') {\n      return (log.startsWith('‚ùå') || log.startsWith('‚ö†Ô∏è') || log.startsWith('‚ÑπÔ∏è'))\n    } else if (state.logLevel == 'error') {\n      return (log.startsWith('‚ùå') || log.startsWith('‚ÑπÔ∏è'))\n    }\n  }\n\n  const getBadgeTestStatus  = (status: string) => {\n    if (status == 'pass') {\n      return <PassIcon color='secondary' fontSize='large'/>\n    } else if (status == 'fail') {\n      return <FailIcon style={{color: colors.fail}} fontSize='large'/>\n    }\n    return <Chip label={status} color='primary'/>\n  }\n  const getBadgeMaturity  = (maturity: number) => {\n    if (maturity == 3) {\n      return <Chip label={maturity + '/3'} color='primary'/> // blue\n    } else if (maturity == 2) {\n      return <Chip label={maturity + '/3'} style={{backgroundColor: colors.r}}/> // purple\n    } else if (maturity == 1) {\n      return <Chip label={maturity + '/3'} style={{backgroundColor: colors.a}}/> // orange\n    } else if (maturity == 0) {\n      return <Chip label={maturity + '/3'} style={{backgroundColor: colors.fail}}/> // red\n    }\n    return <Chip label={maturity + '/3'}/>\n  }\n\n  const columns: GridColumns = [\n    { field: '@id', headerName: 'ID', hide: true },\n    { \n      field: 'id', headerName: 'Evaluation ID', flex: 1,\n      renderCell: (params: GridRenderCellParams) => (\n        <Button href={'/evaluation/' + params.value as string}\n            variant=\"contained\" \n            className={classes.submitButton} \n            startIcon={<EvaluationIcon />}\n            color=\"primary\">\n          Evaluation\n        </Button>)\n    },\n    { field: 'title', headerName: 'Title', flex: 1 },\n    {\n      field: 'resource_uri', headerName: 'Resource URI', flex: 1,\n      renderCell: (params: GridRenderCellParams) => (\n        <>\n          {getUrlHtml(params.value as string)}\n        </>)\n    },\n    {\n      field: 'score_percent', headerName: 'Score', flex: 1,\n      renderCell: (params: GridRenderCellParams) => (\n        <>\n          {params.value as string}%\n        </>)\n    },\n    {\n      field: 'bonus_percent', headerName: 'Bonus', flex: 1,\n      renderCell: (params: GridRenderCellParams) => (\n        <>\n          {params.value as string}%\n        </>)\n    }\n  ]\n  \n\n  const getResultsForCategory  = (category: string) => {\n    const emojiMap: any = {\n      'f': 'üîçÔ∏è',\n      'a': 'üì¨Ô∏è',\n      'i': '‚öôÔ∏è',\n      'r': '‚ôªÔ∏è'\n    }\n    const charCategory = category.substring(0, 1).toLowerCase();\n    // const fairScore = state.evaluationResults['score']['percent'][charCategory]\n    // console.log(state.evaluationResults.results);\n    // console.log(category);\n    // console.log(charCategory);\n\n    const filteredResults = state.evaluationResults.results\n      .filter((item: any) => {\n        let filterItem = false\n        if (item.fair_type.startsWith(charCategory)) {\n          // Don't show the test if all logs are filtered out\n          item.logs.map((log: string, key: number) => {\n            if (filterLog(log) == true) {\n              filterItem = true\n            }\n          })\n        }\n        return filterItem\n      })\n\n    // return <Accordion key={category} defaultExpanded={fairScore < 100}\n    return <>\n    {filteredResults.length > 0 &&\n      <Accordion defaultExpanded={true}\n        // <Accordion key={category} defaultExpanded={true}\n          style={{backgroundColor: colorsLight[charCategory]}}>\n        <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n          <Typography variant=\"h4\">\n            {emojiMap[charCategory]} {category}\n          </Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Grid container spacing={1} style={{textAlign: 'left'}}>\n          {\n            // Iterate over the evaluation results to show the different metrics tests, output and debug log\n            filteredResults.map((item: any, key: number) => (\n                <Grid item xs={12} md={12} key={key}>\n                  <Accordion defaultExpanded={true}>\n                    <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                      {/* {getBadgeTestStatus(item.test_status)}&nbsp;\n                      {getBadgeMaturity(item.maturity)}&nbsp; */}\n                      <Typography variant=\"h6\">\n                        {item.title}\n                      </Typography>\n                    </AccordionSummary>\n                    <AccordionDetails>\n                      <Grid container spacing={1} style={{textAlign: 'left'}}>\n                        <Grid item xs={12} md={12}>\n                          <>\n                            <Typography variant=\"body1\">\n                              {item.description}\n                            </Typography>\n                            <Typography variant=\"body1\">\n                              Metric: {item.fair_type.toUpperCase()}{item.metric_id}\n                            </Typography>\n                            <Typography variant=\"body1\">\n                              Assessment URL: {getUrlHtml(item.file_url)}\n                            </Typography>\n                            <Typography variant=\"body1\">\n                              FAIR score: {item.score}/{item.max_score}\n                            </Typography>\n                            { item.bonus_score > 0 || item.max_bonus > 0 &&\n                              <Typography variant=\"body1\">\n                                Bonus score: {item.bonus_score}/{item.max_bonus}\n                              </Typography>\n                            }\n                          </>\n                        </Grid>\n\n                        <Grid item xs={12} md={12}>\n                          {/* {state.adviceLogs.join(\"\\n\").length > 0 && */}\n                          <pre>\n                            <code className=\"language-pythonlogging\" style={{whiteSpace: 'pre-wrap', overflowX: 'auto'}}>\n                              {item.logs.filter((log: string) => {\n                                return filterLog(log)\n                              }).join(\"\\n\")}\n                            </code>\n                          </pre>\n                        </Grid>\n                      </Grid>\n                    </AccordionDetails>\n                  </Accordion>\n                </Grid>\n              ))\n          }\n          </Grid>\n        </AccordionDetails>\n      </Accordion>\n    }\n    </>\n  }\n\n  return(\n    <Container className='mainContainer'>\n\n      {state.evaluationResults &&\n        // Display results from the JSON from the API\n        <>\n          <Typography variant=\"h4\" style={{textAlign: 'center', marginBottom: theme.spacing(4)}}>\n            {state.evaluationResults['resource_uri']}\n          </Typography>\n          {state.resourceMetadata &&\n            // Display resources metadata if found\n            <>\n              {/* <Typography variant=\"h4\" style={{margin: theme.spacing(3, 0), textAlign: 'center'}}>\n                Metadata found\n              </Typography> */}\n              <Paper className={classes.paperPadding} style={{textAlign: 'left'}}>\n                {state.resourceMetadata.resource_title &&\n                  <Typography variant=\"h5\" style={{marginBottom: theme.spacing(1)}}>\n                    title: {state.resourceMetadata.resource_title}\n                  </Typography>\n                }\n                {state.resourceMetadata.resource_description &&\n                  <Typography variant=\"body1\" style={{marginBottom: theme.spacing(1)}}>\n                    summary: {state.resourceMetadata.resource_description}\n                  </Typography>\n                }\n                {\n                  Object.keys(state.resourceMetadata).map((metadata: any, key: number) => {\n                    if (!['resource_title', 'resource_description'].includes(metadata)) {\n                      return <Typography variant=\"body1\" style={{marginBottom: theme.spacing(1)}} key={key}>\n                          {metadata}: {getUrlHtml(state.resourceMetadata[metadata])}\n                        </Typography>\n                    }\n                  })\n                }\n              </Paper>\n            </>\n          }\n\n          {/* <Typography variant=\"h4\" style={{margin: theme.spacing(3, 0)}}>\n            FAIR score: {state.evaluationResults['score']['percent']} ({state.evaluationResults['score']['total_score']}/{state.evaluationResults['score']['total_score_max']})\n          </Typography> */}\n\n          <Grid container spacing={1}>\n            <Grid item xs={3} md={3}></Grid>\n            <Grid item xs={3} md={3}>\n              <Typography variant=\"h5\" style={{margin: theme.spacing(3, 0)}}>\n                FAIR score: {state.evaluationResults['score']['total_score']}/{state.evaluationResults['score']['total_score_max']}\n              </Typography>\n              <Box sx={{ position: 'relative', display: 'inline-flex' }}>\n                <CircularProgress variant=\"determinate\" value={state.evaluationResults['score']['percent']}/>\n                {/* <CircularProgress variant=\"determinate\" value={60} size='50%'/> */}\n                <Box\n                  sx={{\n                    top: 0, left: 0, bottom: 0, right: 0,\n                    position: 'absolute',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                  }}\n                >\n                  <Typography variant=\"caption\" component=\"div\">\n                    {`${state.evaluationResults['score']['percent']}%`}<br/>\n                  </Typography>\n                </Box>\n              </Box>\n            </Grid>\n\n            <Grid item xs={3} md={3}>\n              <Typography variant=\"h5\" style={{margin: theme.spacing(3, 0)}}>\n                Bonus score: {state.evaluationResults['score']['total_bonus']}/{state.evaluationResults['score']['total_bonus_max']}\n              </Typography>\n              <Box sx={{ position: 'relative', display: 'inline-flex' }}>\n                <CircularProgress variant=\"determinate\" value={state.evaluationResults['score']['bonus_percent']}/>\n                <Box\n                  sx={{\n                    top: 0, left: 0, bottom: 0, right: 0,\n                    position: 'absolute',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                  }}\n                >\n                  <Typography variant=\"caption\" component=\"div\">\n                    {`${state.evaluationResults['score']['bonus_percent']}%`}<br/>\n                  </Typography>\n                </Box>\n              </Box>\n            </Grid>\n          </Grid>\n\n          {/* Log level dropdown select */}\n          <TextField select\n              value={state.logLevel} \n              label={\"Log level\"} \n              id=\"logLevel\" \n              onChange={handleLogLevelChange} \n              variant=\"outlined\"> \n            <MenuItem value={'all'}>All logs</MenuItem>\n            <MenuItem value={'warning'}>Warnings and errors</MenuItem>\n            <MenuItem value={'error'}>Errors only</MenuItem>  \n          </TextField>\n\n          {/* Display results per category */}\n          {getResultsForCategory('Findable')}\n          {getResultsForCategory('Accessible')}\n          {getResultsForCategory('Interoperable')}\n          {getResultsForCategory('Reusable')}\n          \n          <Button\n            variant=\"contained\" \n            style={{textTransform: 'none', margin: theme.spacing(2, 2)}}\n            onClick={downloadEvaluation}\n            startIcon={<DownloadJsonIcon />}>\n              Download the evaluation results JSON file\n          </Button>\n\n\n        </>\n      }\n\n    </Container>\n  )\n}\n\n\n// Custom codeblocks highlight \n// import hljs from 'highlight.js/lib/core';\n// // import hljs from 'highlight.js'; // Too heavy, loading only required languages\n// import 'highlight.js/styles/github-dark-dimmed.css';\n// import json from 'highlight.js/lib/languages/json';\n// hljs.registerLanguage('json', json);\n// hljs.registerLanguage(\"pythonlogging\",function(e){return {\n//   // Define codeblock highlight for API tests logs ouput \n//   // purple: title https://highlightjs.readthedocs.io/en/latest/css-classes-reference.html\n//   aliases: ['pythonlogging'],\n//   contains: [\n//     {className: 'deletion', variants: [{ begin: '^ERROR', end: ':' }]},\n//     {className: 'built_in', variants: [{ begin: '^WARNING', end: ':' }]},\n//     {className: 'string', variants: [{ begin: '^INFO', end: ':' }]},\n//     {className: 'addition', variants: [{ begin: '^SUCCESS', end: ':' }]},\n//     {className: 'strong', variants: [\n//         { begin: '^WARNING', end: ':' },\n//         { begin: '^ERROR', end: ':' },\n//         { begin: '^SUCCESS', end: ':' },\n//     ]}\n//   ]\n// }});","import React from 'react';\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { useTheme } from '@mui/material/styles';\nimport { makeStyles, withStyles } from '@mui/styles';\nimport { Typography, Container, Button, Paper, Card, CardContent, Box, FormControl, Chip, Tooltip, TextField, CircularProgress, Grid, Select, MenuItem, InputLabel } from \"@mui/material\";\nimport { Popper, ClickAwayListener, Checkbox, FormControlLabel, FormHelperText } from \"@mui/material\";\n// import CreateCollectionIcon from '@mui/icons-material/Send';\n// import CreateCollectionIcon from '@mui/icons-material/PlaylistAddCheck';\nimport CreateCollectionIcon from '@mui/icons-material/LibraryAdd';\n\nimport { DataGrid, GridToolbar, GridColumns, GridRenderCellParams } from '@mui/x-data-grid';\n// import Pagination from '@mui/material/Pagination';\n\nimport axios from 'axios';\nimport axiosRetry from 'axios-retry';\n// import { Doughnut } from 'react-chartjs-2';\n// import ChartDataLabels from 'chartjs-plugin-datalabels';\nimport { settings } from '../settings'\nimport { useAuth } from 'oidc-react';\n\n// import OAuth2Login from 'react-simple-oauth2-login';\n\nexport default function Evaluation() {\n  const theme = useTheme();\n  const history = useHistory();\n  // const auth = useAuth();\n\n  const useStyles = makeStyles(() => ({\n    link: {\n      color: theme.palette.primary.main,\n      textDecoration: 'none',\n      // color: 'inherit',\n      '&:hover': {\n        color: theme.palette.primary.light,\n        textDecoration: 'none',\n      },\n    },\n    submitButton: {\n      textTransform: 'none',\n      margin: theme.spacing(2, 2),\n    },\n    fullWidth: {\n      width: '100%',\n      margin: theme.spacing(2, 2)\n    },\n    autocomplete: {\n      marginRight: theme.spacing(2)\n    },\n    formInput: {\n      background: 'white',\n      width: '100%'\n    },\n    paperPadding: {\n      padding: theme.spacing(2, 2),\n      margin: theme.spacing(2, 2),\n    },\n  }))\n  const classes = useStyles();\n\n  // useLocation hook to get URL params\n  // let location = useLocation();  \n  let evaluationResults: any = null;\n  let currentUser: any = null;\n  let addedAssessments: any = [];\n  const [state, setState] = React.useState({\n    currentUser: currentUser,\n    accessToken: null,\n    loggedIn: false,\n    assessmentsList: [],\n    addedAssessments: addedAssessments,\n    collectionId: '',\n    collectionTitle: '',\n    collectionDescription: '',\n    collectionHomepage: '',\n    urlToEvaluate: \"https://doi.org/10.1594/PANGAEA.908011\",\n    // urlToEvaluate: \"https://doi.org/10.1038/sdata.2016.18\",\n    evaluationResults: evaluationResults,\n    adviceLogs: [],\n    evaluationRunning: false,\n    evaluationsList: [],\n    metadata_service_endpoint: 'https://ws.pangaea.de/oai/provider',\n    use_datacite: true,\n  });\n  const stateRef = React.useRef(state);\n  // Avoid conflict when async calls\n  const updateState = React.useCallback((update) => {\n    stateRef.current = {...stateRef.current, ...update};\n    setState(stateRef.current);\n  }, [setState]);\n\n  // Settings for Popper\n  const [open, setOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl]: any = React.useState(null);\n  const handleClick = (event: any) => {\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n    // setAnchorEl(anchorEl ? null : document.body);\n    setOpen((prev) => !prev);\n  };\n  const handleClickAway = () => {\n    setOpen(false);\n    setAnchorEl(anchorEl ? null : anchorEl);\n  };\n  const id = open ? 'simple-popper' : undefined;\n  \n  // response.headers.get(\"Authorization\").replace('Bearer ', '')\n  // Run on page init\n  React.useEffect(() => {\n    // Check if user logged in\n    const localStorageConfig: any = localStorage.getItem(\"fairEnoughSettings\");\n    let configState: any = JSON.parse(localStorageConfig);\n    console.log(localStorageConfig);\n    console.log(settings.restUrl);\n    if (!state.currentUser && configState && configState['access_token']) {\n      console.log(configState);\n      // Qet current user from API to check if access token still valid\n      axios.get(settings.restUrl + '/current-user', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + configState['access_token']\n        },\n      })\n        .then((res: any) => {\n          console.log('got current user')\n          console.log(res.data)\n          if (res.data['id']) {\n            updateState({ currentUser: res.data, accessToken: configState['access_token'], loggedIn: true})\n          }\n          // if (res.data['error'] == 'access_denied') {\n        })\n\n      updateState({ currentUser: {token: configState.access_token} })\n    }\n\n    // axios.post(settings.restUrl + '/login', {\n    //   headers: {'Content-Type': 'application/json'},\n    // })\n    //   .then((res: any) => {\n    //     // let assessmentsList: any = []\n    //     // res.data.map((evaluation: any, key: number) => {\n    //     //   evaluation['id'] = evaluation['_id']\n    //     //   evaluation['score_percent'] = evaluation['score']['percent']\n    //     //   evaluation['bonus_percent'] = evaluation['score']['bonus_percent']\n    //     //   evaluationsList.push(evaluation)\n    //     // })\n    //     console.log('got login')\n    //     console.log(res.data)\n    //     console.log(res.headers)\n    //     // updateState({ assessmentsList: res.data })\n\n    //   })\n\n    // Get the list of evaluations from API\n    if (state.assessmentsList.length < 1) {\n      axios.get(settings.restUrl + '/assessments', {\n        headers: {'Content-Type': 'application/json'},\n      })\n        .then((res: any) => {\n          // let assessmentsList: any = []\n          // res.data.map((evaluation: any, key: number) => {\n          //   evaluation['id'] = evaluation['_id']\n          //   evaluation['score_percent'] = evaluation['score']['percent']\n          //   evaluation['bonus_percent'] = evaluation['score']['bonus_percent']\n          //   evaluationsList.push(evaluation)\n          // })\n          console.log('got assesments')\n          console.log(res.data)\n          updateState({ assessmentsList: res.data })\n\n        })\n    }\n  }, [state.currentUser, state.loggedIn, state.accessToken])\n\n  const getUrlHtml = (urlString: string) => {\n    if(/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(urlString)) {\n      // Process URIs\n      return <a href={urlString} className={classes.link} target=\"_blank\" rel=\"noopener noreferrer\">{urlString}</a>\n    } else {\n      return urlString\n    }\n  }\n\n  const handleTextFieldChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    // Set the TextField input to the state variable corresponding to the field id  \n    updateState({[event.target.id]: event.target.value})\n  }\n  const handleSubmit  = (event: React.FormEvent) => {\n    event.preventDefault();\n    // doEvaluateUrl(state.urlToEvaluate)\n    let assessmentsInCollec: any = []\n    state.addedAssessments.map((item: any, key: number) => {\n      assessmentsInCollec.push(item.id)\n    })\n    const postCollec = {\n      'id': state.collectionId,\n      'title': state.collectionTitle,\n      'description': state.collectionDescription,\n      'homepage': state.collectionHomepage,\n      'assessments': assessmentsInCollec,\n    }\n    axios.post(settings.restUrl + '/collections', \n      postCollec, \n      {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + state.accessToken\n        },\n      }\n    )\n      .then((res: any) => {\n        console.log('New collection ' + postCollec.id + ' successfully created.')\n        console.log(res.data)\n        // if (res.data['id']) {\n        //   updateState({ currentUser: res.data, loggedIn: true })\n        // }\n        // if (res.data['error'] == 'access_denied') {\n      })\n\n  }\n  const addAssessment  = (assessment: any) => {\n    // event.preventDefault();\n    updateState({addedAssessment: state.addedAssessments.push(assessment)})\n  }\n\n  // const BorderLinearProgress = withStyles({\n  //   root: {\n  //     height: 20,\n  //     width: \"100%\",\n  //     // backgroundColor: hex ? lighten(internalColor, 0.5) : undefined,\n  //     borderRadius: \"10px\"\n  //   },\n  //   bar: {\n  //     borderRadius: 20,\n  //     // backgroundColor: hex ? internalColor : undefined\n  //   }\n  // })(LinearProgress);\n\n  return(\n    <Container className='mainContainer'>\n      <Typography variant=\"h4\" style={{textAlign: 'center', marginBottom: theme.spacing(4)}}>\n        Create a collection of assessments\n      </Typography>\n\n      { state.loggedIn &&\n        <Typography style={{textAlign: 'center', marginBottom: theme.spacing(4)}}>\n          Logged in as {state.currentUser.given_name} {state.currentUser.family_name}\n        </Typography>\n      }\n      { !state.loggedIn &&\n          <Typography style={{textAlign: 'center', marginBottom: theme.spacing(4)}}>\n            You need to login with your ORCID to create a new collection.\n          </Typography>\n        }\n\n      {/* Form to provide the URL to evaludate */}\n      <form onSubmit={handleSubmit}>\n        {/* <Box display=\"flex\" style={{margin: theme.spacing(0, 6)}}> */}\n          <TextField\n            id='collectionId'\n            label='Collection ID'\n            placeholder='Collection ID'\n            value={state.collectionId}\n            className={classes.fullWidth}\n            variant=\"outlined\"\n            onChange={handleTextFieldChange}\n            // size='small'\n            InputProps={{\n              className: classes.formInput\n            }}\n            style={{margin: theme.spacing(1, 0)}}\n          />\n\n          <TextField\n            id='collectionTitle'\n            label='Collection Title'\n            placeholder='Collection Title'\n            value={state.collectionTitle}\n            className={classes.fullWidth}\n            variant=\"outlined\"\n            onChange={handleTextFieldChange}\n            InputProps={{\n              className: classes.formInput\n            }}\n            style={{margin: theme.spacing(1, 0)}}\n          />\n\n          <TextField\n            id='collectionDescription'\n            label='Collection Description'\n            placeholder='Collection Description'\n            value={state.collectionDescription}\n            className={classes.fullWidth}\n            variant=\"outlined\"\n            onChange={handleTextFieldChange}\n            InputProps={{\n              className: classes.formInput\n            }}\n          />\n\n          <TextField\n            id='collectionHomepage'\n            label='Collection Homepage'\n            placeholder='Collection Homepage'\n            value={state.collectionHomepage}\n            className={classes.fullWidth}\n            variant=\"outlined\"\n            onChange={handleTextFieldChange}\n            InputProps={{\n              className: classes.formInput\n            }}\n            style={{margin: theme.spacing(1, 0)}}\n          />\n\n          <Typography variant=\"h5\" style={{textAlign: 'center', margin: theme.spacing(3, 0)}}>\n            Assessments in your collection:\n          </Typography>\n          <Grid container spacing={1}>\n            { state.addedAssessments\n              .map((item: any, key: number) => (\n                <Grid item xs={3}  key={key}>\n                  <Paper elevation={4} className={classes.paperPadding} style={{textAlign: 'left'}}>\n                    <Typography>{item.title}</Typography>\n                  </Paper>\n                </Grid>\n            ))}\n            { state.addedAssessments.length < 1 &&\n              <Grid item xs={12}>\n                <Typography style={{textAlign: 'center'}}>\n                  No assessments added, click on the assessments in the list below to add them to your collection.\n                </Typography>\n              </Grid>\n            }\n          </Grid>\n\n          <Typography variant=\"h5\" style={{textAlign: 'center', margin: theme.spacing(3, 0)}}>\n            Add assessments to your collection:\n          </Typography>\n          <Grid container spacing={1}>\n            { state.assessmentsList\n              .filter((item: any) => {\n                let filterItem = true\n                state.addedAssessments.map((addedAssess: any, key: number) => {\n                  if (addedAssess.id == item.id) {\n                    filterItem = false\n                  }\n                })\n                return filterItem\n              })\n              .map((item: any, key: number) => (\n                <Grid item xs={6} key={key}>\n                  {/* onClick={addAssessment(item)}  */}\n                  <div onClick={() => addAssessment(item)}>\n                    <Paper elevation={4} className={classes.paperPadding} style={{textAlign: 'left', cursor: 'pointer'}}>\n                        <Typography>{item.title}</Typography>\n                        <Typography>{item.description}</Typography>\n                        <Typography>Max score: {item.max_score}</Typography>\n                        <Typography>Max bonus: {item.max_bonus}</Typography>\n                    </Paper>\n                  </div>\n                </Grid>\n            ))}\n          </Grid>\n\n\n          {/* <Tooltip  title='Evaluator settings'>\n            <Button style={{margin: theme.spacing(1)}} onClick={handleClick}>\n              <SettingsIcon />\n            </Button>\n          </Tooltip> */}\n          <Popper open={open} anchorEl={anchorEl}>\n            <ClickAwayListener onClickAway={handleClickAway}>\n              <Paper elevation={4} className={classes.paperPadding} style={{textAlign: 'center'}}>\n                {/* <Typography variant=\"h6\" style={{textAlign: 'center'}}>\n                  Evaluator settings\n                </Typography> */}\n                <Grid container spacing={1}>\n                  <Grid item xs={12}>\n                    <Tooltip title='By default, the FAIR Enough evaluator uses content negociation based on the DOI URL to retrieve DataCite JSON metadata. If you uncheck this option F-UJI will try to use the landing page URL instead.'>\n                      <FormControlLabel\n                        control={\n                          <Checkbox\n                            checked={state.use_datacite}\n                            onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                              updateState({[event.target.name]: event.target.checked});\n                            }}\n                            name=\"use_datacite\"\n                            color=\"primary\"\n                          />\n                        }\n                        label=\"Use DataCite\"\n                      />\n                    </Tooltip>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Tooltip title='OAI-PMH (Open Archives Initiative Protocol for Metadata Harvesting) endpoint to use when searching for metadata about this resource.'>\n                      <TextField\n                        id='metadata_service_endpoint'\n                        label='OAI-PMH metadata endpoint URL'\n                        placeholder='OAI-PMH metadata endpoint URL'\n                        value={state.metadata_service_endpoint}\n                        className={classes.fullWidth}\n                        variant=\"outlined\"\n                        onChange={handleTextFieldChange}\n                        // size='small'\n                        InputProps={{\n                          className: classes.formInput\n                        }}\n                      />\n                    </Tooltip>\n                    <FormHelperText>List of OAI-PMH providers: {getUrlHtml('https://www.openarchives.org/Register/BrowseSites')}</FormHelperText>\n                  </Grid>\n                </Grid>\n              </Paper>\n            </ClickAwayListener>\n          </Popper>\n        {/* </Box> */}\n\n        <Button type=\"submit\" \n          variant=\"contained\" \n          disabled={!state.loggedIn}\n          // className={classes.submitButton} \n          style={{marginTop: theme.spacing(2), marginBottom: theme.spacing(4)}}\n          startIcon={<CreateCollectionIcon />}\n          color=\"secondary\" >\n            Create the collection\n        </Button>\n\n        { !state.loggedIn &&\n          <Typography style={{textAlign: 'center', marginBottom: theme.spacing(4)}}>\n            You need to login with your ORCID to create a new collection.\n          </Typography>\n        }\n      </form>\n\n    </Container>\n  )\n}\n\n","import React from 'react';\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { useTheme } from '@mui/material/styles';\nimport { makeStyles, withStyles } from '@mui/styles';\nimport { Typography, Container, Button, Paper, Box, FormControl, Chip, Tooltip, TextField, CircularProgress, Grid, Select, MenuItem, InputLabel } from \"@mui/material\";\nimport { Popper, ClickAwayListener, Checkbox, FormControlLabel, FormHelperText } from \"@mui/material\";\n// import EvaluationIcon from '@mui/icons-material/Send';\n// import EvaluationIcon from '@mui/icons-material/PlaylistAddCheck';\nimport EvaluationIcon from '@mui/icons-material/LibraryAdd';\n\nimport { DataGrid, GridToolbar, GridColumns, GridRenderCellParams } from '@mui/x-data-grid';\n// import Pagination from '@mui/material/Pagination';\n\nimport axios from 'axios';\nimport axiosRetry from 'axios-retry';\n// import { Doughnut } from 'react-chartjs-2';\n// import ChartDataLabels from 'chartjs-plugin-datalabels';\nimport { settings } from '../settings'\n// import { useAuth } from 'oidc-react';\n\nexport default function Evaluation() {\n  const theme = useTheme();\n  const history = useHistory();\n  // const auth = useAuth();\n\n  const useStyles = makeStyles(() => ({\n    link: {\n      color: theme.palette.primary.main,\n      textDecoration: 'none',\n      // color: 'inherit',\n      '&:hover': {\n        color: theme.palette.primary.light,\n        textDecoration: 'none',\n      },\n    },\n    submitButton: {\n      textTransform: 'none',\n      margin: theme.spacing(2, 2),\n    },\n    fullWidth: {\n      width: '100%',\n    },\n    autocomplete: {\n      marginRight: theme.spacing(2)\n    },\n    formInput: {\n      background: 'white',\n      width: '100%'\n    },\n    paperPadding: {\n      padding: theme.spacing(2, 2),\n      margin: theme.spacing(2, 2),\n    },\n  }))\n  const classes = useStyles();\n\n  // useLocation hook to get URL params\n  let location = useLocation();  \n  let evaluationResults: any = null;\n  let resourceMetadata: any = null;\n  let fairDoughnutConfig: any = null;\n  const [state, setState] = React.useState({\n    urlToEvaluate: \"https://doi.org/10.1594/PANGAEA.908011\",\n    // urlToEvaluate: \"https://doi.org/10.1038/sdata.2016.18\",\n    evaluationResults: evaluationResults,\n    collectionsList: [],\n    evaluationRunning: false,\n    evaluationsList: [],\n    metadata_service_endpoint: 'https://ws.pangaea.de/oai/provider',\n    use_datacite: true,\n  });\n  const stateRef = React.useRef(state);\n  // Avoid conflict when async calls\n  const updateState = React.useCallback((update) => {\n    stateRef.current = {...stateRef.current, ...update};\n    setState(stateRef.current);\n  }, [setState]);\n\n  // Settings for Popper\n  const [open, setOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl]: any = React.useState(null);\n  const handleClick = (event: any) => {\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n    // setAnchorEl(anchorEl ? null : document.body);\n    setOpen((prev) => !prev);\n  };\n  const handleClickAway = () => {\n    setOpen(false);\n    setAnchorEl(anchorEl ? null : anchorEl);\n  };\n  const id = open ? 'simple-popper' : undefined;\n  \n\n  // Run on page init\n  React.useEffect(() => {\n    // Get the edit URL param if provided\n    // const params = new URLSearchParams(location.search + location.hash);\n    // let urlToEvaluate = params.get('evaluate');\n    // if (urlToEvaluate) {\n    //   updateState({ urlToEvaluate: urlToEvaluate })\n    //   doEvaluateUrl(urlToEvaluate)\n    // }\n\n    // Get the list of evaluations from API\n    if (state.collectionsList.length < 1) {\n      axios.get(settings.restUrl + '/collections', {\n        headers: {'Content-Type': 'application/json'},\n      })\n        .then((res: any) => {\n          let collectionsList: any = []\n          res.data.map((collec: any, key: number) => {\n            collec['id'] = collec['_id']\n            // evaluation['score_percent'] = evaluation['score']['percent']\n            // evaluation['bonus_percent'] = evaluation['score']['bonus_percent']\n            collectionsList.push(collec)\n          })\n          updateState({ collectionsList: collectionsList })\n\n        })\n    }\n  }, [])\n\n  const colors: any = {\n    f: '#81d4fa', // blue\n    a: '#ffcc80', // orange\n    i: '#a5d6a7', // green\n    r: '#b39ddb', // purple\n    fail: '#ef5350' // red\n  }\n  const colorsLight: any = {\n    f: '#b3e5fc', // blue\n    a: '#ffe0b2', // orange\n    i: '#c8e6c9', // green\n    r: '#d1c4e9', // purple\n  }\n\n  const getUrlHtml = (urlString: string) => {\n    if(/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(urlString)) {\n      // Process URIs\n      return <a href={urlString} className={classes.link} target=\"_blank\" rel=\"noopener noreferrer\">{urlString}</a>\n    } else {\n      return urlString\n    }\n  }\n\n  const doEvaluateUrl  = (evaluateUrl: string) => {\n    updateState({\n      evaluationRunning: true,\n      evaluationResults: null\n    })\n    console.log('Starting evaluation of ' + evaluateUrl + ' with API ' + settings.docsUrl)\n    const postJson = JSON.stringify({\n      \"resource_uri\": evaluateUrl,\n      // \"title\": \"FAIR metrics dataset evaluation\",\n      \"collection\": \"fair-metrics\"\n    });\n    axios.post(settings.restUrl + '/evaluations', postJson, {\n      headers: {'Content-Type': 'application/json'}\n    })\n      .then(res => {\n        axiosRetry(axios, {\n          retries: 30, // number of retries\n          retryDelay: (retryCount) => {\n            console.log(`Waiting for evaluation to finish: ${retryCount}`);\n            return retryCount * 3000; // time interval between retries\n          },\n          retryCondition: (error: any) => {\n            // if retry condition is not specified, by default idempotent requests are retried\n            return error.response.status === 404;\n          },\n        });\n\n        const evalId = res.data['_id']\n        // Retry every 3 seconds until the evaluation is available\n        axios.get(settings.restUrl + '/evaluations/' + evalId)\n          .then((res: any) => {\n            // Redirect to the page of the created evaluation\n            history.push(\"/evaluation/\" + evalId);\n          })\n      })\n  }\n\n  const handleTextFieldChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    // Set the TextField input to the state variable corresponding to the field id  \n    updateState({[event.target.id]: event.target.value})\n  }\n  const handleSubmit  = (event: React.FormEvent) => {\n    event.preventDefault();\n    doEvaluateUrl(state.urlToEvaluate)\n  }\n\n  // const BorderLinearProgress = withStyles({\n  //   root: {\n  //     height: 20,\n  //     width: \"100%\",\n  //     // backgroundColor: hex ? lighten(internalColor, 0.5) : undefined,\n  //     borderRadius: \"10px\"\n  //   },\n  //   bar: {\n  //     borderRadius: 20,\n  //     // backgroundColor: hex ? internalColor : undefined\n  //   }\n  // })(LinearProgress);\n\n\n  const columns: GridColumns = [\n    { field: 'id', headerName: 'ID', hide: false },\n    // { \n    //   field: 'id', headerName: 'Access evaluation', flex: 0.5,\n    //   renderCell: (params: GridRenderCellParams) => (\n    //     // <Button href={'/#/evaluation/' + params.value as string}\n    //     <Button href={'/evaluation/' + params.value as string}\n    //         variant=\"contained\" \n    //         className={classes.submitButton} \n    //         startIcon={<EvaluationIcon />}\n    //         color=\"primary\">\n    //       Evaluation\n    //     </Button>)\n    // },\n    { field: 'title', headerName: 'Title', flex: 1 },\n    {\n      field: 'homepage', headerName: 'Homepage', flex: 1,\n      renderCell: (params: GridRenderCellParams) => (\n        <>\n          {getUrlHtml(params.value as string)}\n        </>)\n    },\n    // TODO: calculate max_score and max_bonus for each collection\n    // {\n    //   field: 'max_score', headerName: 'FAIR compliant', flex: 0.5,\n    //   renderCell: (params: GridRenderCellParams) => (\n    //     <>\n    //       {params.value as string}%\n    //     </>)\n    // },\n    // {\n    //   field: 'max_bonus', headerName: 'FAIR Role Model', flex: 0.5,\n    //   renderCell: (params: GridRenderCellParams) => (\n    //     <>\n    //       {params.value as string}%\n    //     </>)\n    // }\n  ]\n  \n\n  return(\n    <Container className='mainContainer'>\n      <Typography variant=\"h4\" style={{textAlign: 'center', marginBottom: theme.spacing(4)}}>\n        Collections of assessments\n      </Typography>\n\n      <Button href=\"/collection/create\" \n        variant=\"contained\" \n        // className={classes.submitButton} \n        style={{marginTop: theme.spacing(2), marginBottom: theme.spacing(4)}}\n        startIcon={<EvaluationIcon />}\n        color=\"secondary\" >\n          Create a new collection\n      </Button>\n\n      {/* <Link to=\"/collections\" className={classes.linkButton}>\n          <Tooltip title='Browse existing Collections of assessments'>\n            <Button style={{color: '#fff'}}>\n              <InfoIcon />\n              Collections\n            </Button>\n          </Tooltip>\n        </Link> */}\n\n      {/* {state.evaluationRunning && \n        <CircularProgress style={{margin: theme.spacing(5, 0)}} />\n      } */}\n\n      {/* Display the Data table listing the Evaluations */}\n      {state.collectionsList.length > 0 && \n        <div style={{ height: 600, width: '100%' }}>\n          {console.log(state.collectionsList)}\n          <DataGrid\n            columns={columns}\n            rows={state.collectionsList}\n            // {...state.evaluationsList}\n            components={{\n              Toolbar: GridToolbar,\n            }}\n            style={{backgroundColor: '#fff'}}\n          />\n        </div>\n      }\n    </Container>\n  )\n}\n\n","import React from 'react';\nimport { makeStyles } from '@mui/styles';\nimport { useTheme } from '@mui/material/styles';\nimport { Container, Typography, List, ListItem, ListItemAvatar, Avatar, ListItemText  } from \"@mui/material\";\nimport EvaluationIcon from '@mui/icons-material/NetworkCheck';\nimport CollectionIcon from '@mui/icons-material/PlaylistAddCheck';\nimport AssessmentIcon from '@mui/icons-material/Biotech';\n// import AssessmentIcon from '@mui/icons-material/CheckCircle';\n\nimport {getUrlHtml} from '../settings'\n\n\nconst useStyles = makeStyles((theme: any) => ({\n  link: {\n    textDecoration: 'none',\n    color: theme.palette.primary.main,\n    '&:hover': {\n      color: theme.palette.secondary.main,\n      textDecoration: 'none',\n    },\n  },\n  paperPadding: {\n    padding: theme.spacing(2, 2),\n    margin: theme.spacing(2, 2),\n  },\n  paperTitle: {\n    fontWeight: 300,\n    marginBottom: theme.spacing(1),\n  },\n  mainText: {\n    textAlign: 'left', \n    marginBottom: '20px'\n    // margin: theme.spacing(4, 0)\n  }\n}))\n\n\nexport default function About() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [state, setState] = React.useState({\n    open: false,\n    dialogOpen: false,\n    project_license: '',\n    language_autocomplete: [],\n  });\n  // const form_category_dropdown = React.createRef(); \n\n  return(\n    <Container className='mainContainer'>\n      <Typography variant=\"h4\" className={classes.mainText} style={{marginBottom: theme.spacing(2)}}>\n        About\n      </Typography>\n\n      <Typography variant=\"body1\" className={classes.mainText}>\n        FAIR Enough is a web service to evaluate how much online resources follow to the <a href=\"https://www.go-fair.org/fair-principles\" className={classes.link} target=\"_blank\" rel=\"noopener noreferrer\">FAIR principles ‚ôªÔ∏è</a> (Findable, Accessible, Interoperable, Reusable).\n      </Typography>\n\n      <Typography variant=\"body1\" className={classes.mainText}>\n        Developed and hosted by the <a href=\"https://www.maastrichtuniversity.nl/research/institute-data-science\" className={classes.link} target=\"_blank\" rel=\"noopener noreferrer\">Institute of Data Science</a> at Maastricht University.\n      </Typography>\n      \n\n      <Typography variant=\"h4\" className={classes.mainText} style={{margin: theme.spacing(2,0)}}>\n        How it works\n      </Typography>\n\n\n      <Typography variant=\"body1\" className={classes.mainText}>\n        An <b>evaluation</b> runs a <b>collection</b> of <b>assessments</b> against the resource to evaluate.\n      </Typography>\n\n      <List>\n        <ListItem>\n          <ListItemAvatar>\n            <Avatar>\n              <EvaluationIcon />\n            </Avatar>\n          </ListItemAvatar>\n          <ListItemText>\n            <b>Evaluations</b> can be created by anyone without authentication. An evaluation takes the URI of the resource to evaluate, and a collection of assessments to run against this resource. \n          </ListItemText>\n        </ListItem>\n        <ListItem>\n          <ListItemAvatar>\n            <Avatar>\n              <CollectionIcon />\n            </Avatar>\n          </ListItemAvatar>\n          <ListItemText>\n            <b>Collections</b> can be created through the API after authenticating with ORCID. A collection is a sorted list of assessments\n          </ListItemText>\n        </ListItem>\n        <ListItem>\n          <ListItemAvatar>\n            <Avatar>\n              <AssessmentIcon />\n            </Avatar>\n          </ListItemAvatar>\n          <ListItemText> \n            <b>Assessments</b> are tests written in Python that can be part of a collection. \n            Each assessment run some tests against the resource to evaluate, \n            record the results, and pass the results to the next assessment in the collection. \n            To create a test you will need to add a python file in the folder <a href=\"https://github.com/MaastrichtU-IDS/fair-enough/tree/main/backend/app/assessments\" className={classes.link} target=\"_blank\" rel=\"noopener noreferrer\">backend/app/assessments</a> and\n            send us a pull request\n          </ListItemText>\n        </ListItem>\n      </List>\n\n\n    </Container>\n  )\n}","import React from \"react\";\nimport { View } from \"react-native\";\nimport { HashRouter } from \"react-router-dom\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n// import { ThemeProvider } from '@mui/styles';\n// import { createTheme } from '@mui/material/styles';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport blue from '@mui/material/colors/blue';\nimport './src/App.css';\nimport NavBar from \"./src/components/NavBar\";\nimport Footer from \"./src/components/Footer\";\nimport RunEvaluations from \"./src/pages/RunEvaluations\";\nimport Evaluation from \"./src/pages/Evaluation\";\nimport CreateCollection from \"./src/pages/CreateCollection\";\nimport Collections from \"./src/pages/Collections\";\nimport About from \"./src/pages/About\";\nimport { AuthProvider, useAuth } from 'oidc-react';\n\n// https://github.com/kolitiri/fastapi-oidc-react\n// const oidcConfig = {\n//   onSignIn: async (user: any) => {\n//     alert('You just signed in, congratz! Check out the console!');\n//     console.log(user);\n//     window.location.hash = '';\n//   },\n//   authority: 'https://orcid.org',\n//   clientId: process.env.ORCID_CLIENT_ID,\n//   // redirectUri: 'http://localhost/rest/auth',\n//   redirectUri: 'http://localhost:19006/',\n//   autoSignIn: false\n//   // redirectUri=\"http://localhost:3000/oauth-callback\"\n// };\n\n// Change theme color and typography here\nconst theme = createTheme({\n  palette: {\n    primary: { light: '#63a4ff', main: blue[700], dark: '#004ba0' }, // blue\n    secondary: { light: '#4caf50', main: '#087f23', dark: '#00600f' }, // green\n    // primary: { light: blue[50], main: blue[600], dark: blue[900] },\n    // secondary: { light: '#ff7043', main: '#ff5722', dark: '#087f23' },\n    // red: { light: '#f05545', main: '#b71c1c', dark: '#7f0000' },\n    // default: { light: '#fafafa', main: '#eceff1', dark: grey[600] }\n    // success: { light: '#ffe0b2', main: '#a5d6a7', dark: '#00600f' }, // green\n    // info: { light: '#b3e5fc', main: '#81d4fa', dark: '#00600f' }, // blue\n    // warning: { light: '#c8e6c9', main: '#ffcc80', dark: '#00600f' }, // orange\n    // error: { light: '#ffcdd2', main: '#ef9a9a', dark: '#e57373' }, // red\n  },\n  typography: {\n    \"fontFamily\": \"\\\"Open Sans\\\", \\\"Roboto\\\", \\\"Arial\\\"\",\n    \"fontWeightLight\": 300,\n    \"fontWeightRegular\": 400,\n    \"fontWeightMedium\": 500,\n    \"fontSize\": 11\n  },\n  // spacing: 2\n  // overrides: {\n  //   MuiTooltip: {\n  //       tooltip: {\n  //           fontSize: \"1em\",\n  //       },\n  //   },\n  // },\n});\n\n// Fix React router:\n// https://stackoverflow.com/questions/27928372/react-router-urls-dont-work-when-refreshing-or-writing-manually\n// We could use an express server\n// app.use('/mysub-application1', express.static(path.resolve(__dirname, `../public`)))\n// app.get('/mysub-application1/*', (req,res) => { //this is required to support any client side routing written in react.\n//  res.sendFile(path.join(__dirname, '../../public', 'index.html'))\n// })\n\nconst App = () => (\n  <ThemeProvider theme={theme}>\n    {/* <AuthProvider {...oidcConfig}> */}\n      <Router basename=\"/\">\n      {/* <HashRouter> */}\n        <View style={{height: '100%', backgroundColor: '#eceff1'}}>\n          <NavBar />\n\n          <Route exact path=\"/evaluation/:id\" component={Evaluation} />\n          <Route path=\"/about\" component={About} />\n          <Route path=\"/collections\" component={Collections} />\n          <Route path=\"/collection/create\" component={CreateCollection} />\n          <Route exact path=\"/\" component={RunEvaluations} />\n          <Footer />\n        </View>\n      {/* </HashRouter> */}\n      </Router>\n    {/* </AuthProvider> */}\n  </ThemeProvider>\n);\nexport default App;\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function () {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function (info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function (error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!./App.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Open+Sans);\"]);\n// Module\nexports.push([module.id, \".flexGrow {\\n  flex-grow: 1; \\n}\\n\\n.mainContainer {\\n  margin-top: 30px;\\n  margin-bottom: 20px;\\n  text-align: center;\\n}\\n\\npre {\\n  border: 2px solid grey;\\n  padding: 1em;\\n}\\n\\npre, code {\\n  font-family: monospace, monospace;\\n  border-radius: 6px;\\n  /* padding: 2px; */\\n  color: #adbac7;\\n  background: #22272e;\\n  /* padding: 0.5em; */\\n  /* padding: 5px; */\\n  /* color: white;\\n  background-color: #757575; */\\n  /* background-color: #78909c; */\\n}\\n  \\n/* @import url(\\\"https://fonts.googleapis.com/icon?family=Material+Icons\\\");\\nbody {\\n  margin: 0;\\n  padding: 0;\\n  text-align: center; } */\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}